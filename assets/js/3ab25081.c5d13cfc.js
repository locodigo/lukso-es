"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[4990],{3905:(e,a,r)=>{r.d(a,{Zo:()=>c,kt:()=>m});var n=r(7294);function t(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function o(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?o(Object(r),!0).forEach((function(a){t(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function i(e,a){if(null==e)return{};var r,n,t=function(e,a){if(null==e)return{};var r,n,t={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],a.indexOf(r)>=0||(t[r]=e[r]);return t}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var s=n.createContext({}),p=function(e){var a=n.useContext(s),r=a;return e&&(r="function"==typeof e?e(a):l(l({},a),e)),r},c=function(e){var a=p(e.components);return n.createElement(s.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var r=e.components,t=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(r),m=t,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return r?n.createElement(f,l(l({ref:a},c),{},{components:r})):n.createElement(f,l({ref:a},c))}));function m(e,a){var r=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var o=r.length,l=new Array(o);l[0]=d;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i.mdxType="string"==typeof e?e:t,l[1]=i;for(var p=2;p<o;p++)l[p]=r[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},3052:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=r(7462),t=(r(7294),r(3905));const o={sidebar_label:"Crear un Perfil Universal",sidebar_position:1},l="Crear un Perfil Universal",i={unversionedId:"es/guides/universal-profile/create-profile",id:"es/guides/universal-profile/create-profile",title:"Crear un Perfil Universal",description:'Un archivo JS completo "listo para usar" est\xe1 disponible al final en la secci\xf3n C\xf3digo Final. Si quieres ejecutar el c\xf3digo como archivos JavaScript independientes dentro de la terminal o el navegador, puedes abrir el repositorio lukso-playground o utilizar la p\xe1gina correlacionada StackBlitz.',source:"@site/docs/es/guides/universal-profile/create-profile.md",sourceDirName:"es/guides/universal-profile",slug:"/es/guides/universal-profile/create-profile",permalink:"/lukso-es/es/guides/universal-profile/create-profile",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/es/guides/universal-profile/create-profile.md",tags:[],version:"current",lastUpdatedAt:1680495619,formattedLastUpdatedAt:"3 abr 2023",sidebarPosition:1,frontMatter:{sidebar_label:"Crear un Perfil Universal",sidebar_position:1},sidebar:"guidesSidebar",previous:{title:"Restringir las Direcciones a las B\xf3vedas",permalink:"/lukso-es/es/guides/vault/restrict-addresses-to-vaults"},next:{title:"Leer Datos del Perfil",permalink:"/lukso-es/es/guides/universal-profile/read-profile-data"}},s={},p=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Contratos Propios",id:"contratos-propios",level:3},{value:"Visi\xf3n general de los contratos",id:"visi\xf3n-general-de-los-contratos",level:3},{value:"Configuraci\xf3n",id:"configuraci\xf3n",level:2},{value:"Paso 1 - Crear una EOA",id:"paso-1---crear-una-eoa",level:2},{value:"Paso 2 - Obtener algo de LYX",id:"paso-2---obtener-algo-de-lyx",level:2},{value:"Paso 3 - Crear nuestro Perfil Universal",id:"paso-3---crear-nuestro-perfil-universal",level:2},{value:"3.1 - Cargar nuestra EOA",id:"31---cargar-nuestra-eoa",level:3},{value:"3.2 - Configurar la lsp-factory.js",id:"32---configurar-la-lsp-factoryjs",level:3},{value:"3.3 - Desplegar nuestro Perfil Universal",id:"33---desplegar-nuestro-perfil-universal",level:3},{value:"Visualizar nuestro nuevo Perfil Universal",id:"visualizar-nuestro-nuevo-perfil-universal",level:2},{value:"Felicitaciones \ud83e\udd73",id:"felicitaciones-",level:2},{value:"C\xf3digo final",id:"c\xf3digo-final",level:2}],c={toc:p};function u(e){let{components:a,...o}=e;return(0,t.kt)("wrapper",(0,n.Z)({},c,o,{components:a,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"crear-un-perfil-universal"},"Crear un Perfil Universal"),(0,t.kt)("admonition",{type:"tip"},(0,t.kt)("p",{parentName:"admonition"},"Un archivo JS completo ",(0,t.kt)("em",{parentName:"p"},'"listo para usar"')," est\xe1 disponible al final en la secci\xf3n ",(0,t.kt)("a",{parentName:"p",href:"#final-code"},(0,t.kt)("strong",{parentName:"a"},"C\xf3digo Final")),". Si quieres ejecutar el c\xf3digo como archivos JavaScript independientes dentro de la terminal o el navegador, puedes abrir el repositorio ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/lukso-playground"},(0,t.kt)("inlineCode",{parentName:"a"},"lukso-playground"))," o utilizar la p\xe1gina correlacionada ",(0,t.kt)("a",{parentName:"p",href:"https://stackblitz.com/github/lukso-network/lukso-playground"},"StackBlitz"),".")),(0,t.kt)("p",null,"En esta gu\xeda, aprenderemos c\xf3mo:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"crear un Perfil Universal."),(0,t.kt)("li",{parentName:"ul"},"ver nuestro nuevo Perfil Universal en ",(0,t.kt)("a",{parentName:"li",href:"https://l16.universalprofile.cloud"},"l16.universalprofile.cloud"),".")),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"Universal Profile example on universalprofile.cloud",src:r(9634).Z,width:"1433",height:"894"})),(0,t.kt)("p",null,"Utilizaremos la librer\xeda ",(0,t.kt)("a",{parentName:"p",href:"/lukso-es/es/tools/lsp-factoryjs/deployment/universal-profile"},"lsp-factory.js")," para crear un Perfil Universal con ",(0,t.kt)("strong",{parentName:"p"},"\xa1menos de 50 l\xedneas de c\xf3digo!"),"."),(0,t.kt)("h2",{id:"introducci\xf3n"},"Introducci\xf3n"),(0,t.kt)("h3",{id:"contratos-propios"},"Contratos Propios"),(0,t.kt)("p",null,"Un Perfil Universal es un ",(0,t.kt)("strong",{parentName:"p"},"contrato inteligente propio"),". Propiedad significa que un contrato de este tipo tiene un ",(0,t.kt)("strong",{parentName:"p"},"propietario")," independiente."),(0,t.kt)("p",null,"El propietario del Contrato es una ",(0,t.kt)("inlineCode",{parentName:"p"},"direcci\xf3n")," de blockchain que puede representar cualquier cosa, como:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"una o m\xfaltiples Cuentas de Propiedad Externa (EOAs),"),(0,t.kt)("li",{parentName:"ul"},"una cartera multisig, u"),(0,t.kt)("li",{parentName:"ul"},"otro contrato inteligente que puede representar cualquier cosa (una DAO, un DEX, etc...).")),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"Contrato inteligente de Perfil Universal: diagrama de propiedad",src:r(2201).Z,width:"1434",height:"697"})),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Para m\xe1s detalles, consulta ",(0,t.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-173"},"EIP-173: Est\xe1ndar de Propiedad de Contratos"))),(0,t.kt)("p",null,"Con el patr\xf3n de dise\xf1o ",(0,t.kt)("strong",{parentName:"p"},"Ownable"),", un contrato puede ser dise\xf1ado con ",(0,t.kt)("em",{parentName:"p"},"funcionalidades que s\xf3lo el propietario puede realizar"),". El patr\xf3n de dise\xf1o proporciona al propietario del contrato m\xe1s control y privilegios."),(0,t.kt)("p",null,"En el contexto del Perfil Universal, ",(0,t.kt)("em",{parentName:"p"},"cualquiera puede leer datos del almacenamiento del contrato"),", pero ",(0,t.kt)("strong",{parentName:"p"},"s\xf3lo el propietario puede"),":"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"setData(...)` = a\xf1adir, editar o eliminar datos del almacenamiento ",(0,t.kt)("a",{parentName:"li",href:"../../standards/universal-profile/lsp0-erc725account#erc725y---generic-key-value-store"},"ERC725Y"),"."),(0,t.kt)("li",{parentName:"ul"},'"execute(...)` = transferir LYX a direcciones, llamar a otros contratos o crear y desplegar nuevos contratos (v\xe9ase ',(0,t.kt)("a",{parentName:"li",href:"../../standards/universal-profile/lsp0-erc725account#erc725x---generic-executor"},"ERC725X")," executor)"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"transferOwnership(...)")," = hacer que una direcci\xf3n sea la nueva propietaria del Perfil Universal.")),(0,t.kt)("p",null,"En esta gu\xeda, el propietario de nuestro Perfil Universal ser\xe1 un contrato llamado ",(0,t.kt)("strong",{parentName:"p"},"Gestor de Claves"),". El ",(0,t.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/smart-contracts/lsp6-key-manager"},"Gestor de Claves")," es un contrato inteligente que permite conceder permisos espec\xedficos a ",(0,t.kt)("inlineCode",{parentName:"p"},"direcciones"),", para que puedan interactuar con el Perfil Universal. Por ejemplo, transferir LYX a nombre del Perfil Universal."),(0,t.kt)("admonition",{title:"M\xe1s informaci\xf3n",type:"info"},(0,t.kt)("p",{parentName:"admonition"},"Puedes implementar cualquier estructura compleja de propiedad (y control detallado) en los Perfiles Universales. La estructura incluye tener una UP propiedad de y controlada por:"),(0,t.kt)("ul",{parentName:"admonition"},(0,t.kt)("li",{parentName:"ul"},"una o m\xfaltiples EOAs,"),(0,t.kt)("li",{parentName:"ul"},"uno o m\xfaltiples contratos inteligentes, o"),(0,t.kt)("li",{parentName:"ul"},"una mezcla de ambos.")),(0,t.kt)("p",{parentName:"admonition"},"Para m\xe1s detalles, consulta ","[LSP6 - Est\xe1ndar de Gestor de Claves]",".(../../standards/universal-profile/lsp6-key-manager.md).")),(0,t.kt)("h3",{id:"visi\xf3n-general-de-los-contratos"},"Visi\xf3n general de los contratos"),(0,t.kt)("p",null,(0,t.kt)("a",{target:"_blank",href:r(5017).Z},"Perfil Universal: visi\xf3n general de los contratos desplegados")),(0,t.kt)("p",null,"La librer\xeda ",(0,t.kt)("a",{parentName:"p",href:"/lukso-es/es/tools/lsp-factoryjs/getting-started"},"lsp-factory.js")," nos ayudar\xe1 a desplegar y configurar r\xe1pidamente un Perfil Universal con unas pocas l\xedneas de c\xf3digo."),(0,t.kt)("p",null,"Bajo el cap\xf3, lsp-factory.js realiza lo siguiente:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Implementa los contratos del Perfil Universal:",(0,t.kt)("ul",{parentName:"li"},(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"/lukso-es/es/standards/universal-profile/lsp0-erc725account"},"Perfil Universal")," (UP) es el contrato inteligente central que representa un Perfil Universal."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{parentName:"li",href:"/lukso-es/es/standards/universal-profile/lsp6-key-manager"},"Gestor de Claves")," (KM) es el contrato que act\xfaa como ",(0,t.kt)("strong",{parentName:"li"},"propietario de un Perfil Universal")," ",(0,t.kt)("br",null),"  para permitir que otras direcciones interact\xfaen con el UP."))),(0,t.kt)("li",{parentName:"ol"},"Vincula un contrato inteligente ",(0,t.kt)("a",{parentName:"li",href:"/lukso-es/es/standards/generic-standards/lsp1-universal-receiver-delegate"},"Receptor Delegado Universal")," (URD) previamente implementado con el UP desplegado. El URD reacciona a eventos, como tokens recibidos o transferidos."),(0,t.kt)("li",{parentName:"ol"},"Configura todos los permisos para las direcciones EOA proporcionadas para que puedan actuar sobre la UP.")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"\u27a1\ufe0f ","\xa0"," ",(0,t.kt)("a",{parentName:"p",href:"../../tools/lsp-factoryjs/getting-started"},"Consulta nuestra documentaci\xf3n lsp-factory.js para m\xe1s detalles"))),(0,t.kt)("admonition",{title:"M\xe1s informaci\xf3n",type:"info"},(0,t.kt)("p",{parentName:"admonition"},"La figura anterior es nuestra Configuraci\xf3n por defecto para el Perfil Universal. Sin embargo, ",(0,t.kt)("em",{parentName:"p"},"utilizar un Gestor de Claves como propietario es opcional"),".",(0,t.kt)("br",null),"\nTambi\xe9n es posible crear un Perfil Universal sin un Gestor de Claves (o un Receptor Delegado Universal vinculado a \xe9l).")),(0,t.kt)("h2",{id:"configuraci\xf3n"},"Configuraci\xf3n"),(0,t.kt)("p",null,"Antes de empezar, crearemos una nueva carpeta de proyecto para escribir todo el c\xf3digo JavaScript de este tutorial. ",(0,t.kt)("br",null),"\nAbre una terminal, luego crea y abre una nueva carpeta de proyecto."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir myUP\ncd myUP\n")),(0,t.kt)("p",null,"Afterward, we have to install all the tools and libraries we need for this tutorial. ",(0,t.kt)("br",null),"\nCopy and paste the command below in your terminal to install these as npm dependencies."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"npm install web3 @lukso/lsp-factory.js --save\n")),(0,t.kt)("h2",{id:"paso-1---crear-una-eoa"},"Paso 1 - Crear una EOA"),(0,t.kt)("admonition",{title:"Aviso",type:"note"},(0,t.kt)("p",{parentName:"admonition"},"Debes hacer este paso en un ",(0,t.kt)("strong",{parentName:"p"},"archivo temporal"),".")),(0,t.kt)("p",null,"Como se describe en la introducci\xf3n, nuestro primer paso es crear una EOA que se utilizar\xe1 para controlar nuestro Perfil Universal."),(0,t.kt)("p",null,"Podemos crear f\xe1cilmente una EOA usando el m\xe9todo ",(0,t.kt)("a",{parentName:"p",href:"https://web3js.readthedocs.io/en/v1.5.2/web3-eth-accounts.html#create"},(0,t.kt)("inlineCode",{parentName:"a"},"web3.eth.accounts.create()"))," de web3.js."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Instrucciones:")," ",(0,t.kt)("strong",{parentName:"p"},"crea un archivo temporal")," y a\xf1ade el siguiente fragmento de c\xf3digo. Se generar\xe1 un objeto que contiene:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"una clave privada (32 bytes / 64 caracteres de longitud),"),(0,t.kt)("li",{parentName:"ul"},"una direcci\xf3n (20 bytes / 40 caracteres de longitud), y"),(0,t.kt)("li",{parentName:"ul"},"algunos m\xe9todos de firma como ",(0,t.kt)("inlineCode",{parentName:"li"},"sign"),".")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="create-eoa.js (archivo temporal)"',title:'"create-eoa.js',"(archivo":!0,'temporal)"':!0},'import Web3 from \'web3\';\nconst web3 = new Web3();\n\nconst myEOA = web3.eth.accounts.create();\nconsole.log(myEOA);\n\n/**\n{\n  address: "0x...",\n  privateKey: "0x...",\n  signTransaction: function(tx){...},\n  sign: function(data){...},\n  encrypt: function(password){...}\n}\n*/\n')),(0,t.kt)("p",null,"Ejecuta el script anterior con Node.js para generar y mostrar tu clave privada y direcci\xf3n EOA."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-bash"},"node create-eoa.js\n")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"Consulta ",(0,t.kt)("a",{parentName:"p",href:"https://web3js.readthedocs.io/en/v1.5.2/web3-eth-accounts.html#"},"Web3.js docs")," para obtener m\xe1s informaci\xf3n sobre la creaci\xf3n de una EOA.")),(0,t.kt)("h2",{id:"paso-2---obtener-algo-de-lyx"},"Paso 2 - Obtener algo de LYX"),(0,t.kt)("p",null,"Despu\xe9s de crear la EOA que controlar\xe1 nuestro Perfil Universal en el ",(0,t.kt)("strong",{parentName:"p"},"Paso 1"),", necesitaremos financiar nuestra direcci\xf3n con algunos LYX de prueba (la criptomoneda nativa de la blockchain LUKSO). Puedes obtener LYX de prueba gratis a trav\xe9s de ",(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("a",{parentName:"strong",href:"http://faucet.l16.lukso.network/"},"Grifo L16")),"."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Instrucciones:")," visita el sitio web del grifo y sigue las instrucciones para ",(0,t.kt)("em",{parentName:"p"},"solicitar LYX"),"."),(0,t.kt)("p",null,":flecha_derecha: ",(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("a",{parentName:"strong",href:"http://faucet.l16.lukso.network/"},"P\xe1gina web del grifo LUKSO L16"))),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/58372066/182743024-6866a180-29d2-4e07-93fc-862400547a15.png",alt:"L16 Faucet screenshot"})),(0,t.kt)("p",null,"Buscaremos el saldo de nuestra direcci\xf3n en el ",(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("a",{parentName:"strong",href:"https://explorer.execution.l16.lukso.network/"},"Explorador de Bloques LUKSO L16"))," para asegurarnos de que hemos recibido nuestro LYX de prueba."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Instrucciones:")," ve al Explorador de Bloques LUKSO L16, y busca tu direcci\xf3n en la esquina superior derecha.",(0,t.kt)("br",null)," Deber\xedas ver la cantidad de LYX solicitada junto al campo ",(0,t.kt)("em",{parentName:"p"},"Balance"),"."),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/58372066/182744109-0dfa37e4-3713-49cb-bd36-37f953e654e8.png",alt:"L16 Block Explorer screenshot"})),(0,t.kt)("h2",{id:"paso-3---crear-nuestro-perfil-universal"},"Paso 3 - Crear nuestro Perfil Universal"),(0,t.kt)("admonition",{title:"Aviso",type:"note"},(0,t.kt)("p",{parentName:"admonition"},"Deber\xedas hacer el resto de este tutorial en un ",(0,t.kt)("strong",{parentName:"p"},"nuevo archivo (",(0,t.kt)("inlineCode",{parentName:"strong"},"main.js"),")"),".")),(0,t.kt)("p",null,"Ahora que hemos creado nuestra EOA, estamos listos para crear nuestro primer Perfil Universal."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Instrucciones:")," crea un ",(0,t.kt)("strong",{parentName:"p"},"nuevo archivo"),": ",(0,t.kt)("inlineCode",{parentName:"p"},"main.js")," (contendr\xe1 el script de ejecuci\xf3n principal para crear nuestro Perfil Universal)."),(0,t.kt)("h3",{id:"31---cargar-nuestra-eoa"},"3.1 - Cargar nuestra EOA"),(0,t.kt)("p",null,"Empezaremos cargando nuestra EOA a nuestro archivo JS principal para que podamos usarla para desplegar nuestro Perfil Universal."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Instrucciones:")," importa la clave privada que creaste en el ",(0,t.kt)("strong",{parentName:"p"},"paso 1"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"import Web3 from 'web3';\nconst web3 = new Web3();\n\nconst PRIVATE_KEY = '0x...'; // tu clave privada de EOA (creada en el paso 1)\nconst myEOA = web3.eth.accounts.privateKeyToAccount(PRIVATE_KEY);\n\n/**\n{\n  address: \"0x...\",\n  privateKey: \"0x...\",\n  signTransaction: function(tx){...},\n  sign: function(data){...},\n  encrypt: function(password){...}\n}\n*/\n")),(0,t.kt)("admonition",{title:"\xa1Jam\xe1s expongas tu clave privada!",type:"danger"},(0,t.kt)("p",{parentName:"admonition"},"Tu clave privada es lo que te permite controlar a tu EOA. Por lo tanto, ",(0,t.kt)("strong",{parentName:"p"},"NUNCA")," debe ser expuesta."),(0,t.kt)("p",{parentName:"admonition"},"Para mayor simplicidad, en este tutorial, cargamos la EOA utilizando una clave privada codificada (como una cadena literal).",(0,t.kt)("br",null),"\nSin embargo, tu clave privada nunca debe ser ingresada en tu c\xf3digo."),(0,t.kt)("p",{parentName:"admonition"},"\u26a0\ufe0f",(0,t.kt)("strong",{parentName:"p"},"Aseg\xfarate SIEMPRE de que tu clave privada est\xe1 almacenada de forma segura")," y de que nunca quede expuesta.")),(0,t.kt)("h3",{id:"32---configurar-la-lsp-factoryjs"},"3.2 - Configurar la lsp-factory.js"),(0,t.kt)("p",null,"El siguiente paso es importar y configurar nuestra herramienta lsp-factory.js. Nos dar\xe1 acceso a un m\xe9todo ",(0,t.kt)("inlineCode",{parentName:"p"},".deploy(...)")," que utilizaremos para crear nuestro Perfil Universal."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Instrucciones:")," utiliza el siguiente fragmento de c\xf3digo para configurar lsp-factory.js."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"import { LSPFactory } from '@lukso/lsp-factory.js';\n\n// Paso 3.1 - Cargar nuestra EOA\nconst PRIVATE_KEY = '0x...'; // escribe aqu\xed la clave privada de tu EOA (creada en el paso 1)\nconst myEOA = web3.eth.accounts.privateKeyToAccount(PRIVATE_KEY);\n\n// inicializar el LSPFactory con el endpoint RPC de la cadena L16, chainId y la clave privada de la EOA que desplegar\xe1 los contratos inteligentes UP\nconst lspFactory = new LSPFactory('https://rpc.l16.lukso.network', {\n  deployKey: PRIVATE_KEY,\n  chainId: 2828,\n});\n")),(0,t.kt)("h3",{id:"33---desplegar-nuestro-perfil-universal"},"3.3 - Desplegar nuestro Perfil Universal"),(0,t.kt)("p",null,"El paso final es desplegar nuestro UP llamando a ",(0,t.kt)("inlineCode",{parentName:"p"},"lspFactory.UniversalProfile.deploy(...)"),". Este m\xe9todo desplegar\xe1 y configurar\xe1 los tres contratos principales mostrados en el ",(0,t.kt)("a",{parentName:"p",href:"#contracts-overview"},"diagrama de arquitectura anterior"),"."),(0,t.kt)("p",null,"La funci\xf3n ",(0,t.kt)("inlineCode",{parentName:"p"},"deploy")," toma como argumento un objeto que contiene dos elementos:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"controllerAddresses"),": la(s) direcci\xf3n(es) EOA que usaremos para controlar nuestra UP."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"lsp3Profile"),": un objeto que representa su ",(0,t.kt)("a",{parentName:"li",href:"../../standards/universal-profile/lsp3-universal-profile-metadata"},"Metadatos ",(0,t.kt)("inlineCode",{parentName:"a"},"LSP3Profile")),".")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"En este tutorial mantendremos los metadatos de nuestro ",(0,t.kt)("inlineCode",{parentName:"p"},"LSP3Profile")," sencillos. Pero puedes a\xf1adir f\xe1cilmente m\xe1s detalles sobre tu UP tales como ",(0,t.kt)("inlineCode",{parentName:"p"},"profileImage"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"backgroundImage")," y ",(0,t.kt)("inlineCode",{parentName:"p"},"avatar"),". Puedes leer c\xf3mo hacer esto con lsp-factory ","[aqu\xed]",".(../../tools/lsp-factoryjs/deployment/universal-profile.md#setting-images-in-lsp3metadata)")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"import { LSPFactory } from '@lukso/lsp-factory.js';\n\n// Paso 3.1 - Cargar nuestra EOA\n// ...\n\n// Paso 3.2 - Configurar la lsp-factory\n// ...\n\n// Step 3.3 - Paso 3.3 - Desplegar nuestro Perfil Universal\nasync function createUniversalProfile() {\n  const deployedContracts = await lspFactory.UniversalProfile.deploy({\n    controllerAddresses: [myEOA.address], // nuestra EOA que controlar\xe1 la UP\n    lsp3Profile: {\n      name: 'Mi Perfil Universal',\n      description: 'Mi Fant\xe1stico Perfil Universal',\n      tags: ['Perfil P\xfablico'],\n      links: [\n        {\n          title: 'Mi Sitio web',\n          url: 'https://mi-sitio-web.com',\n        },\n      ],\n    },\n  });\n\n  return deployedContracts;\n}\n\ncreateUniversalProfile().then((deployedContracts) => {\n  console.log(deployedContracts);\n});\n\n/**\n{\n  LSP0ERC725Account: {\n    address: '0x...',\n    receipt: {\n      to: null,\n      from: '0x...',\n      contractAddress: '0x...',\n      blockNumber: ...,\n      transactionHash: '0x...',\n      gasUsed: [BigNumber],\n      blockHash: '0x...',\n      ...\n    }\n  },\n  LSP6KeyManager: {\n    address: '0x...',\n    receipt: {\n      ...\n    }\n  },\n}\n */\n")),(0,t.kt)("admonition",{title:"M\xe1s informaci\xf3n",type:"info"},(0,t.kt)("p",{parentName:"admonition"},(0,t.kt)("strong",{parentName:"p"},"A\xf1adir m\xe1s detalles")," a nuestro Perfil Universal (",(0,t.kt)("em",{parentName:"p"},"por ejemplo, enlaces, im\xe1genes de perfil, im\xe1genes de fondo"),") ser\xe1 ",(0,t.kt)("strong",{parentName:"p"},"nuestro pr\xf3ximo tutorial"),". \ud83c\udfa8")),(0,t.kt)("h2",{id:"visualizar-nuestro-nuevo-perfil-universal"},"Visualizar nuestro nuevo Perfil Universal"),(0,t.kt)("p",null,"Si el despliegue se ha realizado correctamente, podemos acceder a la direcci\xf3n de nuestro reci\xe9n creado Perfil Universal a partir del valor devuelto."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"async function createUniversalProfile() {\n  const deployedContracts = await lspFactory.UniversalProfile.deploy({\n    // los detalles de despliegue se omiten por brevedad\n    // v\xe9ase el paso 3.3\n  });\n\n  const myUPAddress = deployedContracts.LSP0ERC725Account.address;\n  console.log('mi direcci\xf3n de Perfil Universal: ', myUPAddress);\n  // mi direcci\xf3n de Perfil Universal: 0x...\n\n  return deployedContracts;\n}\n\ncreateUniversalProfile();\n\n// mi direcci\xf3n de Perfil Universal: 0xEde1198b046d8ED64B71adeA5d3B7370cc84A7FB\n")),(0,t.kt)("p",null,"Tambi\xe9n podemos visualizar nuestra UP en el sitio web ",(0,t.kt)("a",{parentName:"p",href:"https://l16.universalprofile.cloud"},"l16.universalprofile.cloud")," a\xf1adiendo la direcci\xf3n de la UP desplegada en la URL, despu\xe9s de la ",(0,t.kt)("inlineCode",{parentName:"p"},"/")," (barra), de la siguiente manera:"),(0,t.kt)("p",null,(0,t.kt)("em",{parentName:"p"},(0,t.kt)("a",{parentName:"em",href:"https://l16.universalprofile.cloud/%7Btu-direcci%C3%B3n-de-UP%7D"},"https://l16.universalprofile.cloud/{tu-direcci\xf3n-de-UP}"))),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"Ejemplo de perfil universal en universalprofile.cloud",src:r(9634).Z,width:"1433",height:"894"})),(0,t.kt)("p",null,"Tambi\xe9n puedes ver los contratos creados por la librer\xeda lsp-factory.js en el explorador de bloques LUKSO L16:"),(0,t.kt)("p",null,(0,t.kt)("em",{parentName:"p"},(0,t.kt)("a",{parentName:"em",href:"https://explorer.execution.l16.lukso.network/address/%7Btu-direcci%C3%B3n-eoa%7D/transactions"},"https://explorer.execution.l16.lukso.network/address/{tu-direcci\xf3n-eoa}/transactions"))),(0,t.kt)("p",null,"La siguiente figura describe cada transacci\xf3n realizada por lsp-factory.js. Tambi\xe9n muestra c\xf3mo las transacciones son mapeadas al diagrama ",(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("a",{parentName:"strong",href:"#contracts-overview"},"Visi\xf3n general de los contratos"))," introducido al principio de esta gu\xeda."),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"lsp-factory.js: contrato desplegado en L16 y flujo de transacciones",src:r(6717).Z,width:"1436",height:"696"})),(0,t.kt)("h2",{id:"felicitaciones-"},"Felicitaciones \ud83e\udd73"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\xa1Has creado con \xe9xito tu primer Perfil Universal!")),(0,t.kt)("p",null,"\u27a1\ufe0f Contin\xfaa con el siguiente tutorial para aprender ",(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("a",{parentName:"strong",href:"/lukso-es/es/guides/universal-profile/edit-profile"},"C\xf3mo editar tu Perfil Universal")),"."),(0,t.kt)("p",null,"\u2b07\ufe0f Mira el siguiente fragmento de c\xf3digo para ayudarte a depurar."),(0,t.kt)("h2",{id:"c\xf3digo-final"},"C\xf3digo final"),(0,t.kt)("p",null,"A continuaci\xf3n se muestra el fragmento de c\xf3digo completo de esta gu\xeda, con todos los pasos compilados juntos."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="crear-eoa.js"',title:'"crear-eoa.js"'},'import Web3 from \'web3\';\nconst web3 = new Web3();\n\nconst myEOA = web3.eth.accounts.create();\nconsole.log(myEOA);\n\n/**\n{\n  address: "0x...",\n    privateKey: "0x...",\n    signTransaction: function(tx){...},\n    sign: function(data){...},\n    encrypt: function(password){...}\n}\n*/\n')),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="main.js"',title:'"main.js"'},"import Web3 from 'web3';\nimport { LSPFactory } from '@lukso/lsp-factory.js';\n\nconst web3 = new Web3();\n\n// Paso 3.1 - Cargar nuestra Cuenta de Propiedad Externa (EOA)\nconst PRIVATE_KEY = '0x...'; // escribe aqu\xed la clave privada de tu EOA (creada en el paso 1)\nconst myEOA = web3.eth.accounts.privateKeyToAccount(PRIVATE_KEY);\n\n// Paso 3.2\n// Inicializa el LSPFactory con el endpoint L16 RPC y la clave privada de la EOA que desplegar\xe1 los contratos inteligentes UP.\nconst lspFactory = new LSPFactory('https://rpc.l16.lukso.network', {\n  deployKey: PRIVATE_KEY,\n  chainId: 2828,\n});\n\n// Paso 3.3 - Desplegar nuestro Perfil Universal\nasync function createUniversalProfile() {\n  const deployedContracts = await lspFactory.UniversalProfile.deploy({\n    controllerAddresses: [myEOA.address], // nuestra EOA que controlar\xe1 la UP\n    lsp3Profile: {\n      name: 'Mi Perfil Universal',\n      description: 'Mi Fant\xe1stico Perfil Universal',\n      tags: ['Perfil P\xfablico'],\n      links: [\n        {\n          title: 'Mi Sitio web',\n          url: 'https://mi-sitio-web.com',\n        },\n      ],\n    },\n  });\n\n  const myUPAddress = deployedContracts.LSP0ERC725Account.address;\n  console.log('mi direcci\xf3n de Perfil Universal: ', myUPAddress);\n\n  return deployedContracts;\n}\n\ncreateUniversalProfile();\n\n// mi direcci\xf3n de Perfil Universal: 0xEde1198b046d8ED64B71adeA5d3B7370cc84A7FB\n")))}u.isMDXComponent=!0},5017:(e,a,r)=>{r.d(a,{Z:()=>n});const n=r.p+"assets/files/universal-profile-overview-68b414973567b489be008e994d39dab7.jpeg"},6717:(e,a,r)=>{r.d(a,{Z:()=>n});const n=r.p+"assets/images/lsp-factory-deployments-explained-98b7b836b45ba011ae50578f70efdd33.jpeg"},9634:(e,a,r)=>{r.d(a,{Z:()=>n});const n=r.p+"assets/images/my-up-6aea31ee2648b362693d8f58f4818fc5.png"},2201:(e,a,r)=>{r.d(a,{Z:()=>n});const n=r.p+"assets/images/universal-profile-ownership-ca7ad08545c5b3ef995ff1eb4d11982b.jpeg"}}]);