"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[2463],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),l=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=l(e.components);return n.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),m=l(a),u=r,f=m["".concat(i,".").concat(u)]||m[u]||p[u]||s;return a?n.createElement(f,o(o({ref:t},c),{},{components:a})):n.createElement(f,o({ref:t},c))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=m;var d={};for(var i in t)hasOwnProperty.call(t,i)&&(d[i]=t[i]);d.originalType=e,d.mdxType="string"==typeof e?e:r,o[1]=d;for(var l=2;l<s;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},7766:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var n=a(7462),r=(a(7294),a(3905));const s={title:"Detecci\xf3n de Est\xe1ndares",sidebar_position:3},o="Detecci\xf3n de Est\xe1ndares",d={unversionedId:"es/standards/standard-detection",id:"es/standards/standard-detection",title:"Detecci\xf3n de Est\xe1ndares",description:"La clave de datos interfaceId y SupportedStandards: no representan la forma m\xe1s segura de comprobar la existencia de un est\xe1ndar, ya que podr\xedan establecerse manualmente.",source:"@site/docs/es/standards/standard-detection.md",sourceDirName:"es/standards",slug:"/es/standards/standard-detection",permalink:"/lukso-es/es/standards/standard-detection",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/es/standards/standard-detection.md",tags:[],version:"current",lastUpdatedAt:1681104414,formattedLastUpdatedAt:"10 abr 2023",sidebarPosition:3,frontMatter:{title:"Detecci\xf3n de Est\xe1ndares",sidebar_position:3},sidebar:"standardsSidebar",previous:{title:"Hoja de ruta de los Est\xe1ndares",permalink:"/lukso-es/es/standards/standards-roadmap"},next:{title:"ERC725",permalink:"/lukso-es/es/standards/lsp-background/erc725"}},i={},l=[{value:"Detecci\xf3n de Interfaz",id:"detecci\xf3n-de-interfaz",level:2},{value:"Ejemplo de interfaz",id:"ejemplo-de-interfaz",level:3},{value:"Detecci\xf3n de metadatos",id:"detecci\xf3n-de-metadatos",level:2},{value:"Ejemplo de Metadatos",id:"ejemplo-de-metadatos",level:3},{value:"Para m\xe1s informaci\xf3n",id:"para-m\xe1s-informaci\xf3n",level:2}],c={toc:l};function p(e){let{components:t,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"detecci\xf3n-de-est\xe1ndares"},"Detecci\xf3n de Est\xe1ndares"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"La clave de datos ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"interfaceId"))," y ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"SupportedStandards:{StandardName}"))," no representan la forma m\xe1s segura de comprobar la existencia de un est\xe1ndar, ya que podr\xedan establecerse manualmente.")),(0,r.kt)("p",null,"Hay dos tipos de est\xe1ndares ",(0,r.kt)("strong",{parentName:"p"},"LSP")," utilizados para interactuar con contratos inteligentes en la blockchain LUKSO."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Tipo de est\xe1ndar"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Ejemplos"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},"Interface Standards")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},"Standardize a set of functions"),". ",(0,r.kt)("br",null)," Define las funciones que pueden ser invocadas en un contrato inteligente y los par\xe1metros esperados."),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/lukso-es/es/standards/universal-profile/lsp0-erc725account"},"LSP0-CuentaERC725")," ",(0,r.kt)("br",null)," ",(0,r.kt)("a",{parentName:"td",href:"/lukso-es/es/standards/universal-profile/lsp6-key-manager"},"LSP6-GestordeClaves")," ",(0,r.kt)("br",null)," ",(0,r.kt)("a",{parentName:"td",href:"/lukso-es/es/standards/nft-2.0/LSP7-Digital-Asset"},"LSP7-AcctivoDigital"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},"Metadata Standards")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},"Standardize a set of ERC725Y data keys"),". ",(0,r.kt)("br",null)," Informa sobre los datos establecidos por defecto en el contrato y qu\xe9 claves de datos consultar para recuperar dichos datos."),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/lukso-es/es/standards/universal-profile/lsp3-universal-profile-metadata"},"LSP3-Metadatos-PerfilUniversal")," ",(0,r.kt)("br",null)," ",(0,r.kt)("a",{parentName:"td",href:"/lukso-es/es/standards/nft-2.0/LSP4-Digital-Asset-Metadata"},"LSP4-Metadatos-ActivoDigital")," ",(0,r.kt)("br",null)," ",(0,r.kt)("a",{parentName:"td",href:"/lukso-es/es/standards/universal-profile/lsp10-received-vaults"},"LSP10B\xf3vedasRecibidas"))))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Interface and metadata standards",src:a(16).Z,width:"3010",height:"1328"})),(0,r.kt)("h2",{id:"detecci\xf3n-de-interfaz"},"Detecci\xf3n de Interfaz"),(0,r.kt)("admonition",{title:"Tip",type:"success"},(0,r.kt)("p",{parentName:"admonition"},"Consulte la p\xe1gina ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"./smart-contracts/interface-ids"},"Implementaci\xf3n de contratos > ID de interfaz"))," para obtener una lista completa de los campos ",(0,r.kt)("inlineCode",{parentName:"p"},"interfaceId")," actuales.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Esta secci\xf3n cubre c\xf3mo detectar si un contrato implementa una interfaz espec\xedfica.")),(0,r.kt)("p",null,"Podemos verificar si un contrato implementa un conjunto espec\xedfico de funciones (= una ",(0,r.kt)("strong",{parentName:"p"},"interfaz"),") utilizando la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"supportsInterface(interfaceId)"),", pasando el bytes4 ",(0,r.kt)("inlineCode",{parentName:"p"},"interfaceId")," como par\xe1metro."),(0,r.kt)("p",null,"La llamada a esta funci\xf3n devolver\xe1 ",(0,r.kt)("strong",{parentName:"p"},"TRUE")," si el contrato implementa este interfaceId espec\xedfico, ",(0,r.kt)("strong",{parentName:"p"},"FALSE")," en caso contrario."),(0,r.kt)("h3",{id:"ejemplo-de-interfaz"},"Ejemplo de interfaz"),(0,r.kt)("p",null,"Un ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/lukso-es/es/standards/universal-profile/lsp3-universal-profile-metadata"},"Perfil Universal"))," es un contrato basado en la ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/universal-profile/lsp0-erc725account"},"Cuenta ERC725"),"(LSP0). Por lo tanto, el contrato DEBER\xcdA implementar las funciones definidas en la ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-0-ERC725Account.md#interface-cheat-sheet"},"Interfaz de la Cuenta ERC725"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import UniversalProfile from '@lukso/lsp-smart-contracts/artifacts/UniversalProfile.json';\nimport Web3 from 'web3';\n\n// Conectarse a la red LUKSO L14\nconst web3 = new Web3('https://rpc.l14.lukso.network');\n\n// Crear una instancia del Perfil Universal\nconst myUPContract = new web3.eth.Contract(UniversalProfile.abi, '<contract-address>');\n\nconst ERC725AccountInterfaceId = '0x63cb749b';\nawait myUPContract.methods.supportsInterface(ERC725AccountInterfaceId).call();\n// true o false\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Consulta ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-165"},"ERC165 - Detecci\xf3n de interfaz est\xe1ndar")," para m\xe1s detalles.")),(0,r.kt)("h2",{id:"detecci\xf3n-de-metadatos"},"Detecci\xf3n de metadatos"),(0,r.kt)("admonition",{title:"Tip",type:"success"},(0,r.kt)("p",{parentName:"admonition"},"El repositorio ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/ERC725Alliance/erc725.js/tree/develop/src/schemas"},"erc725.js"))," de GitHub enumera todas las claves de datos ",(0,r.kt)("inlineCode",{parentName:"p"},"SupportedStandards:{StandardName}")," de cada esquema JSON ERC725Y.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Esta secci\xf3n cubre c\xf3mo detectar si un contrato contiene un conjunto espec\xedfico de ERC725Y en su almacenamiento.")),(0,r.kt)("p",null,"Podemos verificar si un contrato contiene un conjunto espec\xedfico de claves ERC725 (= ",(0,r.kt)("strong",{parentName:"p"},"metadatos"),") comprobando el valor almacenado bajo la clave ",(0,r.kt)("inlineCode",{parentName:"p"},"SupportedStandards:{StandardName}")," en el almacenamiento del contrato, mediante la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"getData(SupportedStandards:{StandardName})"),"."),(0,r.kt)("p",null,"La llamada a esta funci\xf3n devolver\xe1 un valor bytes4 espec\xedfico (definido en el Est\xe1ndar de Metadatos) si el contrato tiene algunas claves de metadatos establecidas por defecto. En caso contrario, devolver\xe1 un valor vac\xedo."),(0,r.kt)("h3",{id:"ejemplo-de-metadatos"},"Ejemplo de Metadatos"),(0,r.kt)("p",null,"Un ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/lukso-es/es/standards/nft-2.0/LSP7-Digital-Asset"},"LSP7ActivoDigital"))," es un contrato que contiene claves de datos ERC725Y definidas en ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-4-DigitalAsset-Metadata.md"},"LSP4 - Metadatos de Activos Digitales")),". Por lo tanto, el contrato ",(0,r.kt)("strong",{parentName:"p"},"DEBER\xcdA")," tener definidas por defecto las siguientes claves de datos ERC725Y: ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP4TokenName"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP4TokenSymbol"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP4Metadata"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP4CreatorsMap:<address>")," y ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP4Creators[]"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import LSP7DigitalAsset from '@lukso/lsp-smart-contracts/artifacts/LSP7DigitalAsset.json';\nimport Web3 from 'web3';\n\n// Conectarse a la red LUKSO L14\nconst web3 = new Web3('https://rpc.l14.lukso.network');\n\n// Crear una instancia del token LSP7\nconst myTokenContract = new web3.eth.Contract(LSP7DigitalAsset.abi, '<contract-address>');\n\nconst SupportedStandards_LSP4 =\n  '0xeafec4d89fa9619884b60000a4d96624a38f7ac2d8d9a604ecf07c12c77e480c';\nawait myTokenContract.methods['getData(bytes32[])']([SupportedStandards_LSP4,]).call();\n// 0xa4d96624 -> resultado v\xe1lido de acuerdo con LSP4\n")),(0,r.kt)("h2",{id:"para-m\xe1s-informaci\xf3n"},"Para m\xe1s informaci\xf3n"),(0,r.kt)("p",null,"-",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/guides/universal-profile/check-if-address-is-universal-profile"},"\xbfC\xf3mo comprobar si una direcci\xf3n es un Perfil Universal? - (LUKSO Docs)")))}p.isMDXComponent=!0},16:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/standard-detection-4c0d80cbc21fea820ec34e345dc96a8e.jpeg"}}]);