"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[8759],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=d(a),m=s,v=u["".concat(l,".").concat(m)]||u[m]||p[m]||r;return a?n.createElement(v,o(o({ref:t},c),{},{components:a})):n.createElement(v,o({ref:t},c))}));function m(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=a.length,o=new Array(r);o[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:s,o[1]=i;for(var d=2;d<r;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},1860:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var n=a(7462),s=(a(7294),a(3905));const r={sidebar_label:"LSP5 - Activos Recibdos",sidebar_position:5},o="LSP5 - Activos Recibidos",i={unversionedId:"es/standards/universal-profile/lsp5-received-assets",id:"es/standards/universal-profile/lsp5-received-assets",title:"LSP5 - Activos Recibidos",description:"LSP5 - Activos Recibidos",source:"@site/docs/es/standards/universal-profile/lsp5-received-assets.md",sourceDirName:"es/standards/universal-profile",slug:"/es/standards/universal-profile/lsp5-received-assets",permalink:"/lukso-es/es/standards/universal-profile/lsp5-received-assets",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/es/standards/universal-profile/lsp5-received-assets.md",tags:[],version:"current",lastUpdatedAt:1681103476,formattedLastUpdatedAt:"10 abr 2023",sidebarPosition:5,frontMatter:{sidebar_label:"LSP5 - Activos Recibdos",sidebar_position:5},sidebar:"standardsSidebar",previous:{title:"LSP3 - Metadatos de Perfil Universal",permalink:"/lukso-es/es/standards/universal-profile/lsp3-universal-profile-metadata"},next:{title:"LSP6 - Gestor de Claves",permalink:"/lukso-es/es/standards/universal-profile/lsp6-key-manager"}},l={},d=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"\xbfQu\xe9 representa esta norma?",id:"qu\xe9-representa-esta-norma",level:2},{value:"<code>LSP5ActivosRecibidos[]</code>",id:"lsp5activosrecibidos",level:3},{value:"<code>LSP5ReceivedAssetsMap</code>",id:"lsp5receivedassetsmap",level:3},{value:"Flujo",id:"flujo",level:3}],c={toc:d};function p(e){let{components:t,...r}=e;return(0,s.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"lsp5---activos-recibidos"},"LSP5 - Activos Recibidos"),(0,s.kt)("admonition",{title:"Documento Est\xe1ndard",type:"info"},(0,s.kt)("p",{parentName:"admonition"},(0,s.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-5-ReceivedAssets.md"},"LSP5 - Activos Recibidos"))),(0,s.kt)("h2",{id:"introducci\xf3n"},"Introducci\xf3n"),(0,s.kt)("p",null,"Llevar un registro de todos los tokens que posee una direcci\xf3n es actualmente inviable. Si quieres saber de qu\xe9 tokens eres propietario, tienes que importar manualmente la direcci\xf3n del contrato de tokens y consultar el saldo de tu clave en ella cada vez para cada token. Este inconveniente pone de manifiesto el siguiente problema: poseer tokens sin ser consciente de ello porque no hay forma de ser notificado sobre los tokens que has recibido en primer lugar."),(0,s.kt)("p",null,"Una forma de resolver este problema es crear claves de metadatos gen\xe9ricas que registrar\xedan en el almacenamiento del contrato inteligente cu\xe1ntos tokens diferentes posees y la direcci\xf3n de los contratos de tokens transferidos."),(0,s.kt)("h2",{id:"qu\xe9-representa-esta-norma"},"\xbfQu\xe9 representa esta norma?"),(0,s.kt)("admonition",{title:"Recomendaci\xf3n",type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"Aseg\xfarate de comprender las normas ",(0,s.kt)("strong",{parentName:"p"},(0,s.kt)("a",{parentName:"strong",href:"/lukso-es/es/standards/lsp-background/erc725#erc725y---generic-data-keyvalue-store"},"ERC725Y Almacenamiento Gen\xe9rico de Claves/Valores"))," y ",(0,s.kt)("strong",{parentName:"p"},(0,s.kt)("a",{parentName:"strong",href:"/lukso-es/es/standards/generic-standards/lsp2-json-schema"},"LSP2 - EsquemaJSONERC725Y"))," antes de revisar las claves de datos ERC725Y.")),(0,s.kt)("p",null,"Este est\xe1ndar de metadatos describe dos claves de datos que pueden a\xf1adirse a un contrato inteligente ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725y"},"ERC725Y")," para hacer referencia y realizar un seguimiento de los activos recibidos."),(0,s.kt)("h3",{id:"lsp5activosrecibidos"},(0,s.kt)("inlineCode",{parentName:"h3"},"LSP5ActivosRecibidos[]")),(0,s.kt)("p",null,"Esta clave de datos representa una lista de todos los tokens y NFTs que posee actualmente el contrato."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP5ReceivedAssets[]",\n  "key": "0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b",\n  "keyType": "Array",\n  "valueType": "address",\n  "valueContent": "Address"\n}\n')),(0,s.kt)("admonition",{title:"Recomendaci\xf3n",type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"Se recomienda consultar la clave de datos ",(0,s.kt)("strong",{parentName:"p"},(0,s.kt)("inlineCode",{parentName:"strong"},"LSP5ActivosRecibidos[]"))," para comprobar si un contrato es compatible con el est\xe1ndar ",(0,s.kt)("strong",{parentName:"p"},(0,s.kt)("a",{parentName:"strong",href:"/lukso-es/es/standards/universal-profile/lsp5-received-assets"},"LSP5 - ActivosRecibidos")),".")),(0,s.kt)("h3",{id:"lsp5receivedassetsmap"},(0,s.kt)("inlineCode",{parentName:"h3"},"LSP5ReceivedAssetsMap")),(0,s.kt)("p",null,"Esta clave de datos representa una clave de mapa, ambas con"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"un ",(0,s.kt)("a",{parentName:"li",href:"https://eips.ethereum.org/EIPS/eip-165"},"ERC165 ID de interfaz")," para identificar r\xe1pidamente el est\xe1ndar utilizado por cada contrato inteligente de activos (sin necesidad de consultar directamente los contratos de activos)."),(0,s.kt)("li",{parentName:"ul"},"el \xedndice en el conjunto ",(0,s.kt)("a",{parentName:"li",href:"#lsp5receivedassets-"},(0,s.kt)("inlineCode",{parentName:"a"},"LSP5ReceivedAssets[]"))," donde se almacenan las direcciones de los activos recibidos.")),(0,s.kt)("p",null,"La clave de datos ",(0,s.kt)("inlineCode",{parentName:"p"},"LSP5ReceivedAssetsMap")," tambi\xe9n ayuda a evitar que se a\xf1adan duplicaciones a dicho conjunto cuando se a\xf1aden autom\xe1ticamente a trav\xe9s de un contrato inteligente (por ejemplo, _ un ",(0,s.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/generic-standards/lsp1-universal-receiver-delegate"},"LSP1-ReceptorDelegadoUniversal"),")."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP5ReceivedAssetsMap:<address>",\n  "key": "0x812c4334633eb816c80d0000<address>",\n  "keyType": "Mapping",\n  "valueType": "(bytes4,bytes8)",\n  "valueContent": "(Bytes4,Number)"\n}\n')),(0,s.kt)("h3",{id:"flujo"},"Flujo"),(0,s.kt)("admonition",{title:"Nota",type:"info"},(0,s.kt)("p",{parentName:"admonition"},"Las claves de datos tambi\xe9n se establecen en el ",(0,s.kt)("strong",{parentName:"p"},"Perfil Universal del remitente")," para eliminar la direcci\xf3n del contrato de token si se env\xeda todo el saldo.")),(0,s.kt)("p",null,"Si se establecen al transferir tokens, estas claves de datos se actualizan autom\xe1ticamente en el almacenamiento del Perfil Universal a trav\xe9s del contrato ",(0,s.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/smart-contracts/lsp1-universal-receiver-delegate-up"},"LSP1ReceptorDelegadoUniversalUP"),"."),(0,s.kt)("admonition",{type:"note"},(0,s.kt)("p",{parentName:"admonition"},"Consulta el ",(0,s.kt)("a",{parentName:"p",href:"../generic-standards/lsp1-universal-receiver-delegate#token-transfer-scenario"},"escenario de transferencia de tokens")," para m\xe1s detalles.")),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Flujo detallado de transferencia de tokens",src:a(8173).Z,width:"2933",height:"1363"})),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Flujo de activos recibidos de LSP5",src:a(385).Z,width:"3198",height:"1250"})))}p.isMDXComponent=!0},8173:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/detailed-token-transfer-683af83aa3a6726c1cd27f496d436583.jpeg"},385:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/lsp5-received-assets-ead4e9740c47a3bcfd989049a3aeb853.jpeg"}}]);