"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[1061],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>u});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=n.createContext({}),d=function(e){var a=n.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},p=function(e){var a=d(e.components);return n.createElement(o.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=d(t),u=r,k=m["".concat(o,".").concat(u)]||m[u]||c[u]||l;return t?n.createElement(k,i(i({ref:a},p),{},{components:t})):n.createElement(k,i({ref:a},p))}));function u(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=m;var s={};for(var o in a)hasOwnProperty.call(a,o)&&(s[o]=a[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var d=2;d<l;d++)i[d]=t[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},5162:(e,a,t)=>{t.d(a,{Z:()=>i});var n=t(7294),r=t(6010);const l="tabItem_Ymn6";function i(e){let{children:a,hidden:t,className:i}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,i),hidden:t},a)}},4866:(e,a,t)=>{t.d(a,{Z:()=>E});var n=t(7462),r=t(7294),l=t(6010),i=t(2466),s=t(6775),o=t(1980),d=t(7392),p=t(12);function c(e){return function(e){return r.Children.map(e,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:a,label:t,attributes:n,default:r}}=e;return{value:a,label:t,attributes:n,default:r}}))}function m(e){const{values:a,children:t}=e;return(0,r.useMemo)((()=>{const e=a??c(t);return function(e){const a=(0,d.l)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,t])}function u(e){let{value:a,tabValues:t}=e;return t.some((e=>e.value===a))}function k(e){let{queryString:a=!1,groupId:t}=e;const n=(0,s.k6)(),l=function(e){let{queryString:a=!1,groupId:t}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:a,groupId:t});return[(0,o._X)(l),(0,r.useCallback)((e=>{if(!l)return;const a=new URLSearchParams(n.location.search);a.set(l,e),n.replace({...n.location,search:a.toString()})}),[l,n])]}function N(e){const{defaultValue:a,queryString:t=!1,groupId:n}=e,l=m(e),[i,s]=(0,r.useState)((()=>function(e){let{defaultValue:a,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!u({value:a,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:l}))),[o,d]=k({queryString:t,groupId:n}),[c,N]=function(e){let{groupId:a}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(a),[n,l]=(0,p.Nk)(t);return[n,(0,r.useCallback)((e=>{t&&l.set(e)}),[t,l])]}({groupId:n}),g=(()=>{const e=o??c;return u({value:e,tabValues:l})?e:null})();(0,r.useEffect)((()=>{g&&s(g)}),[g]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!u({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);s(e),d(e),N(e)}),[d,N,l]),tabValues:l}}var g=t(2389);const f="tabList__CuJ",b="tabItem_LNqP";function C(e){let{className:a,block:t,selectedValue:s,selectValue:o,tabValues:d}=e;const p=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.o5)(),m=e=>{const a=e.currentTarget,t=p.indexOf(a),n=d[t].value;n!==s&&(c(a),o(n))},u=e=>{var a;let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const a=p.indexOf(e.currentTarget)+1;t=p[a]??p[0];break}case"ArrowLeft":{const a=p.indexOf(e.currentTarget)-1;t=p[a]??p[p.length-1];break}}null==(a=t)||a.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":t},a)},d.map((e=>{let{value:a,label:t,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:s===a?0:-1,"aria-selected":s===a,key:a,ref:e=>p.push(e),onKeyDown:u,onClick:m},i,{className:(0,l.Z)("tabs__item",b,null==i?void 0:i.className,{"tabs__item--active":s===a})}),t??a)})))}function v(e){let{lazy:a,children:t,selectedValue:n}=e;if(a){const e=t.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},t.map(((e,a)=>(0,r.cloneElement)(e,{key:a,hidden:e.props.value!==n}))))}function y(e){const a=N(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",f)},r.createElement(C,(0,n.Z)({},e,a)),r.createElement(v,(0,n.Z)({},e,a)))}function E(e){const a=(0,g.Z)();return r.createElement(y,(0,n.Z)({key:String(a)},e))}},7060:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var n=t(7462),r=(t(7294),t(3905)),l=t(4866),i=t(5162);const s={sidebar_label:"LSP6 - Gestor de Claves",sidebar_position:6},o="LSP6 - Gestor de Claves",d={unversionedId:"es/standards/universal-profile/lsp6-key-manager",id:"es/standards/universal-profile/lsp6-key-manager",title:"LSP6 - Gestor de Claves",description:"LSP6 - Gestor de Claves",source:"@site/docs/es/standards/universal-profile/lsp6-key-manager.md",sourceDirName:"es/standards/universal-profile",slug:"/es/standards/universal-profile/lsp6-key-manager",permalink:"/lukso-es/es/standards/universal-profile/lsp6-key-manager",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/es/standards/universal-profile/lsp6-key-manager.md",tags:[],version:"current",lastUpdatedAt:1681105145,formattedLastUpdatedAt:"10 abr 2023",sidebarPosition:6,frontMatter:{sidebar_label:"LSP6 - Gestor de Claves",sidebar_position:6},sidebar:"standardsSidebar",previous:{title:"LSP5 - Activos Recibdos",permalink:"/lukso-es/es/standards/universal-profile/lsp5-received-assets"},next:{title:"LSP9 - B\xf3vedas",permalink:"/lukso-es/es/standards/universal-profile/lsp9-vault"}},p={},c=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Permisos",id:"permisos",level:2},{value:"SUPER Permisos",id:"super-permisos",level:3},{value:"Combinar permisos",id:"combinar-permisos",level:3},{value:"Consultar las direcciones con permisos",id:"consultar-las-direcciones-con-permisos",level:3},{value:"Tipos de permisos",id:"tipos-de-permisos",level:2},{value:"Permisos de direcci\xf3n",id:"permisos-de-direcci\xf3n",level:3},{value:"Llamadas Permitidas",id:"llamadas-permitidas",level:3},{value:"Claves de datos ERC725Y permitidas",id:"claves-de-datos-erc725y-permitidas",level:3},{value:"Types of Execution",id:"types-of-execution",level:2},{value:"Ejecuci\xf3n por Retransmisi\xf3n",id:"ejecuci\xf3n-por-retransmisi\xf3n",level:3},{value:"\xbfC\xf3mo se firman las transacciones por retransmisi\xf3n?",id:"c\xf3mo-se-firman-las-transacciones-por-retransmisi\xf3n",level:3},{value:"Ejecuci\xf3n fuera de orden",id:"ejecuci\xf3n-fuera-de-orden",level:3},{value:"Referencias",id:"referencias",level:2}],m={toc:c};function u(e){let{components:a,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},m,s,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lsp6---gestor-de-claves"},"LSP6 - Gestor de Claves"),(0,r.kt)("admonition",{title:"Documento Est\xe1ndard",type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md"},"LSP6 - Gestor de Claves"))),(0,r.kt)("h2",{id:"introducci\xf3n"},"Introducci\xf3n"),(0,r.kt)("p",null,"Una ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/smart-contracts/lsp0-erc725-account"},"CuentaLSP0ERC725")," por s\xed sola tiene una usabilidad limitada. Dado que es un ",(0,r.kt)("strong",{parentName:"p"},"contrato propio"),", s\xf3lo el propietario de la cuenta puede escribir datos en \xe9l o utilizarlo para interactuar con otros contratos inteligentes."),(0,r.kt)("p",null,"Aqu\xed es donde entra en juego el Gestor de Claves. Un contrato inteligente que controla una CuentaLSP0ERC725, actuando como su nuevo propietario. As\xed, funciona como una puerta de enlace para el contrato ",(0,r.kt)("strong",{parentName:"p"},"account"),"."),(0,r.kt)("p",null,"La idea es dar ",(0,r.kt)("a",{parentName:"p",href:"#permissions"},"permisos")," a cualquier ",(0,r.kt)("inlineCode",{parentName:"p"},"direcci\xf3n"),", como Cuentas de Propiedad Externa (EOA) o contratos inteligentes. Estos pueden entonces interactuar con la CuentaLSP0ERC725 ",(0,r.kt)("strong",{parentName:"p"},"a trav\xe9s del Gestor de Claves"),'. El Gestor de Claves permitir\xe1 o restringir\xe1 el acceso en funci\xf3n de los permisos establecidos para la "direcci\xf3n" de llamada.'),(0,r.kt)("p",null,"Las direcciones con permiso pueden interactuar directamente con el Gestor de Claves o pueden firmar un mensaje para ser ejecutado por cualquier instancia (usuarios, servicios de retransmisi\xf3n)."),(0,r.kt)("p",null,"\u274c ","\xa0"," ",(0,r.kt)("strong",{parentName:"p"},"Sin Gestor de Claves"),", s\xf3lo el propietario de la LSP0ERC725Account puede utilizar su Cuenta."),(0,r.kt)("p",null,"\u2705 ","\xa0"," ",(0,r.kt)("strong",{parentName:"p"},"Con un Gestor de Claves")," asociado a una CuentaLSP0ERC725, otras direcciones (EOA o contratos) pueden utilizar una Cuenta en nombre de su propietario."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Descripci\xf3n general del Gestor de Claves LSP6 permitido",src:t(6370).Z,width:"1863",height:"536"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Vista general del Gestor de Claves LSP6 no permitida",src:t(497).Z,width:"1825",height:"547"})),(0,r.kt)("p",null,"Los permisos para las direcciones no se almacenan en el Gestor de Claves. En su lugar, se ",(0,r.kt)("strong",{parentName:"p"},"almacenan dentro de la clave de datos - almac\xe9n de valores de la CuentaLSP0ERC725")," vinculada al Gestor de Claves. De esta forma, es posible ",(0,r.kt)("strong",{parentName:"p"},"actualizar")," f\xe1cilmente el Gestor de Claves sin tener que restablecer de nuevo todos los permisos."),(0,r.kt)("p",null,"Traducci\xf3n realizada con la versi\xf3n gratuita del traductor ",(0,r.kt)("a",{parentName:"p",href:"http://www.DeepL.com/Translator"},"www.DeepL.com/Translator")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"permisos"},"Permisos"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Puedes utilizar las funciones ",(0,r.kt)("a",{parentName:"p",href:"../../../../../../../../../tools/erc725js/classes/ERC725#encodepermissions"},(0,r.kt)("inlineCode",{parentName:"a"},"encodePermissions(...)"))," y ","[",(0,r.kt)("inlineCode",{parentName:"p"},"decodePermissions(...)"),"]","(../../../../../../.. /tools/erc725js/classes/ERC725#decodepermissions) de la herramienta ",(0,r.kt)("a",{parentName:"p",href:"../../../../../../tools/erc725js/getting-started"},(0,r.kt)("em",{parentName:"a"},"erc725.js"))," para ",(0,r.kt)("strong",{parentName:"p"},"crear, combinar")," o ",(0,r.kt)("strong",{parentName:"p"},"descifrar valores de permisos"),".")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Permisos LSP6",src:t(469).Z,width:"1808",height:"1195"})),(0,r.kt)("p",null,"Haz clic en los siguientes elementos para ",(0,r.kt)("strong",{parentName:"p"},"obtener m\xe1s informaci\xf3n sobre las funciones habilitadas por cada permiso"),"."),(0,r.kt)("p",null,"Traducci\xf3n realizada con la versi\xf3n gratuita del traductor ",(0,r.kt)("a",{parentName:"p",href:"http://www.DeepL.com/Translator"},"www.DeepL.com/Translator")),(0,r.kt)("details",{id:"changeowner"},(0,r.kt)("summary",null,(0,r.kt)("code",null,"CHANGEOWNER")," - Permite cambiar el propietario del contrato controlado."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000001")),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGEOWNER")," permite cambiar el propietario de la CuentaERC725 vinculada.\nUtilizando este permiso, puedes actualizar f\xe1cilmente el ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/smart-contracts/lsp6-key-manager"},(0,r.kt)("inlineCode",{parentName:"a"},"LSP6GestordeClaves"))," vinculado a la Cuenta transfiriendo la propiedad a un nuevo Gestor de Claves.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"ADDCONTROLLER")," - Permite dar permisos a nuevas direcciones."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000002")),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"ADDCONTROLLER")," posibilita conceder permisos a nuevas direcciones (controladores) que antes no ten\xedan ning\xfan permiso. Esto permite a\xf1adir nuevas direcciones de controlador que pueden interactuar o utilizar la CuentaERC725 vinculada."),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"ADDCONTROLLER")," es necesario para:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Dar a una nueva direcci\xf3n alg\xfan permiso estableciendo sus permisos en ",(0,r.kt)("inlineCode",{parentName:"li"},"AddressPermissions:Permissions:<controller-address>"),"."),(0,r.kt)("li",{parentName:"ul"},"A\xf1adir una nueva direcci\xf3n de controlador en la lista de ",(0,r.kt)("inlineCode",{parentName:"li"},"AddressPermissions[index]")," en un ",(0,r.kt)("inlineCode",{parentName:"li"},"index")," espec\xedfico."),(0,r.kt)("li",{parentName:"ul"},"Aumentar la longitud del conjunto ",(0,r.kt)("inlineCode",{parentName:"li"},"AddressPermissions[]")," (para describir que se ha a\xf1adido una nueva direcci\xf3n de controlador).")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"ADD Permissions",src:t(316).Z,width:"1476",height:"677"}))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"CHANGEPERMISSIONS")," - Permite cambiar los permisos existentes de las direcciones."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000004")),(0,r.kt)("p",null,"Este permiso permite ",(0,r.kt)("strong",{parentName:"p"},"editar permisos")," de cualquier direcci\xf3n que ya tenga alg\xfan permiso establecido en la CuentaERC725 (incluida ella misma).\nEl ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGEPERMISSIONS")," tambi\xe9n es necesario para:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\ud83d\uddd1\ufe0f ",(0,r.kt)("strong",{parentName:"li"},"Eliminar")," una ",(0,r.kt)("inlineCode",{parentName:"li"},"direcci\xf3n")," controladora de la lista de ",(0,r.kt)("inlineCode",{parentName:"li"},"AddressPermissions[]"),", es decir:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"eliminar su direcci\xf3n en un \xedndice espec\xedfico en ",(0,r.kt)("inlineCode",{parentName:"li"},"AddressPermissions[index]"),"."))),(0,r.kt)("li",{parentName:"ul"},"disminuir la longitud del conjunto ",(0,r.kt)("inlineCode",{parentName:"li"},"AddressPermissions[]")," (para describir que se ha eliminado la direcci\xf3n de un controlador)."),(0,r.kt)("li",{parentName:"ul"},"\ud83d\udd8a\ufe0f ",(0,r.kt)("strong",{parentName:"li"},"Editar")," una entrada en el Array ",(0,r.kt)("inlineCode",{parentName:"li"},"AddressPermissions[index]"),", lo que significa cambiar la direcci\xf3n almacenada en un \xedndice espec\xedfico.",(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f ",(0,r.kt)("strong",{parentName:"p"},"Atenci\xf3n:")," una direcci\xf3n de controlador con ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGEPERMISSIONS")," tambi\xe9n puede editar sus propios permisos. \xa1Tenga cuidado al conceder este permiso!")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"CAMBIAR PERMISOS",src:t(6429).Z,width:"1278",height:"782"})),(0,r.kt)("p",null,"Ten en cuenta que el comportamiento de ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGEPERMISSIONS")," var\xeda ligeramente en funci\xf3n del nuevo valor de permisos que se establezca (v\xe9ase la figura siguiente)."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"CHANGE Permissions",src:t(3372).Z,width:"1520",height:"657"}))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"ADDEXTENSIONS")," - Permite a\xf1adir m\xe1s contratos de extensi\xf3n en la CuentaERC725 vinculada."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000008")),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"ADDEXTENSIONS")," permite a\xf1adir nuevos contratos de extensi\xf3n a trav\xe9s de la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"fallback")," de la CuentaERC725 vinculada.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"CHANGEEXTENSIONS")," - Permite editar la direcci\xf3n de un contrato de extensi\xf3n en la CuentaERC725 vinculada."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000010")),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGEEXTENSIONS")," permite editar la direcci\xf3n del contrato de extensi\xf3n para un selector de funci\xf3n bytes4 espec\xedfico enviado a la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"fallback")," de la CuentaERC725 vinculada.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"ADDUNIVERSALRECEIVERDELEGATE")," - Permite a\xf1adir nuevas direcciones de contratos LSP1ReceptorDelegadoUnviersal."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000020")),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"ADDUNIVERSALRECEIVERDELEGATE")," permite a\xf1adir nuevos contratos de extensi\xf3n LSP1ReceptorDelegadoUnviersal para identificadores de tipo espec\xedficos, cuando no se ha configurado inicialmente ninguna extensi\xf3n de contratos para un identificador de tipo espec\xedfico."),(0,r.kt)("p",null,"Consulte ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/generic-standards/lsp1-universal-receiver#extension"},(0,r.kt)("strong",{parentName:"a"},"LSP1 Receptor Delegado Universal > extension"))," para obtener m\xe1s detalles."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"NB")," este permiso tambi\xe9n permite establecer la direcci\xf3n del contrato predeterminado LSP1ReceptorDelegadoUnviersal bajo la clave de datos ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP1UniversalReceiverDelegate")," si no se estableci\xf3 ninguna direcci\xf3n en primer lugar."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"CHANGEUNIVERSALRECEIVERDELEGATE")," - Permite editar las direcciones de los contratos LSP1ReceptorDelegadoUnviersal."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000040")),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGEUNIVERSALRECEIVERDELEGATE")," permite dos cosas:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"editar la direcci\xf3n del contrato predeterminado LSP1ReceptorDelegadoUnviersal (vinculado bajo la clave de datos ",(0,r.kt)("inlineCode",{parentName:"li"},"LSP1UniversalReceiverDelegate"),")."),(0,r.kt)("li",{parentName:"ol"},"editar las direcciones de los contratos de extensi\xf3n LSP1UniversalReceiverDelegate vinculados a identificadores de tipo espec\xedficos.")),(0,r.kt)("p",null,"V\xe9ase ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/generic-standards/lsp1-universal-receiver#extension"},(0,r.kt)("strong",{parentName:"a"},"LSP1 Receptor Delegado Universal > extension"))," para m\xe1s detalles.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"REENTRANCY")," - Permite reingresar durante una ejecuci\xf3n."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000080")),(0,r.kt)("p",null,"Cuando un contrato o una EOA tiene este permiso, le permite ejecutar una carga \xfatil durante la ejecuci\xf3n de otra carga \xfatil. Un contrato volver\xeda a entrar utilizando ",(0,r.kt)("inlineCode",{parentName:"p"},"execute(..)")," y una EOA lo har\xeda a trav\xe9s de ",(0,r.kt)("inlineCode",{parentName:"p"},"executeRelayCall(..)"),"."),(0,r.kt)("p",null,"Por ejemplo, uno de los mejores usos para este permiso es el siguiente escenario:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"La CuentaERC725A vinculada al Gestor de Claves realiza una llamada externa a un ",(0,r.kt)("em",{parentName:"li"},"contrato A"),"."),(0,r.kt)("li",{parentName:"ol"},"El ",(0,r.kt)("em",{parentName:"li"},"contrato A")," realizar\xe1 algunas actualizaciones internas utilizando los datos recibidos."),(0,r.kt)("li",{parentName:"ol"},"A continuaci\xf3n, el ",(0,r.kt)("em",{parentName:"li"},"contrato A")," volver\xe1 a llamar a la CuentaERC725 ",(0,r.kt)("strong",{parentName:"li"},"(a trav\xe9s del Gestor de Claves)")," con otra carga \xfatil que actualizar\xe1 el almacenamiento de la cuenta.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Permiso REENTRANCY  1",src:t(9274).Z,width:"3015",height:"1326"}),"\n",(0,r.kt)("img",{alt:"Permiso REENTRANCY  2",src:t(8561).Z,width:"3049",height:"1311"})),(0,r.kt)("p",null,"Para que se produzca esa interacci\xf3n, el contrato A debe tener el permiso REENTRANCY.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"TRANSFERVALUE")," - Permite transferir los tokens nativos de la CuentaERC725A vinculada ",(0,r.kt)("strong",null,"con restricciones"),"."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000200")),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"TRANSFERVALUE")," permite transferir los tokens nativos de la CuentaERC725A vinculada ",(0,r.kt)("strong",{parentName:"p"},"con restricciones"),"."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"a direcciones espec\xedficas (EOAs o contratos)."),(0,r.kt)("li",{parentName:"ol"},"a contratos que apliquen un tipo espec\xedfico de ",(0,r.kt)("em",{parentName:"li"},"est\xe1ndares de interfaz"),", que puedan detectarse utilizando los ID de interfaz ERC165.")),(0,r.kt)("p",null,"Estas restricciones pueden aplicarse utilizando los datos LSP6 ",(0,r.kt)("inlineCode",{parentName:"p"},"AddressPermissions:AllowedCalls:<address>"),", donde ",(0,r.kt)("inlineCode",{parentName:"p"},"<address>")," es la direcci\xf3n del controlador que tiene el permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"TRANSFERVALUE"),"."),(0,r.kt)("br",null),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Nota:")," Para las transferencias simples de tokens nativos, no deben pasarse datos (",(0,r.kt)("inlineCode",{parentName:"p"},'""'),") al cuarto par\xe1metro de la funci\xf3n ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/smart-contracts/lsp0-erc725-account#execute"},(0,r.kt)("inlineCode",{parentName:"a"},"execute"))," del contrato Account. Por ejemplo: ",(0,r.kt)("inlineCode",{parentName:"p"},'account.execute(operationCall, recipient, amount, "")'),"."),(0,r.kt)("p",{parentName:"blockquote"},"El emisor de la llamada necesitar\xe1 el permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"CALL")," para enviar cualquier dato a lo largo de la transferencia LYX."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"CALL")," - Permite utilizar la CuentaERC725A vinculada para interactuar con contratos ",(0,r.kt)("strong",null,"con restricciones"),"."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000800"),(0,r.kt)("br",null)),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"CALL")," permite utilizar la CuentaERC725 vinculada para llamar a funciones de contratos desplegados en la red ",(0,r.kt)("strong",{parentName:"p"},"con restricciones"),"."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"a direcciones de contratos espec\xedficos (contratos)."),(0,r.kt)("li",{parentName:"ol"},"a contratos que apliquen un tipo espec\xedfico de ",(0,r.kt)("em",{parentName:"li"},"est\xe1ndares de interfaces"),", que puedan detectarse utilizando los ID de interfaces ERC165.")),(0,r.kt)("p",null,"Utiliza el opcode subyacente ",(0,r.kt)("inlineCode",{parentName:"p"},"CALL")," que permite cambiar estados en el contrato llamado.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"STATICCALL")," - Permite llamar a otros contratos a trav\xe9s del contrato controlado"),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000002000"),(0,r.kt)("br",null)),(0,r.kt)("p",null,"Este permiso permite a la CuentaERC725 vinculada al Gestor de Claves realizar llamadas externas a contratos mientras se desautorizan los cambios de estado en la direcci\xf3n a la que se llama.\nUtiliza el opcode ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-214"},"STATICCALL")," al realizar la llamada externa."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"NB:")," Si se cambia alg\xfan estado en un contrato de destino a trav\xe9s de una ",(0,r.kt)("inlineCode",{parentName:"p"},"STATICCALL"),", la llamada se ",(0,r.kt)("strong",{parentName:"p"},"revertir\xe1 silenciosamente"),"."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"DELEGATECALL")," - Permite delegar la llamada a otros contratos a trav\xe9s del contrato controlado"),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000008000")),(0,r.kt)("p",null,"This permission allows executing code and functions from other contracts in the UP context."),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"DELEGATECALL"))," est\xe1 actualmente deshabilitado (incluso si est\xe1 establecido en el GestordeClaves) debido a su naturaleza peligrosa, ya que los desarrolladores viciosos pueden ejecutar alg\xfan c\xf3digo malicioso en el contrato de Cuenta vinculado."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"DEPLOY")," - Permite desplegar otros contratos a trav\xe9s del contrato controlado"),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000010000")),(0,r.kt)("p",null,"Permite a la persona que llama desplegar un contrato inteligente, utilizando la CuentaERC725 vinculada como desplegador. Los desarrolladores deben proporcionar el c\xf3digo de bytes del contrato a desplegar en la carga \xfatil (codificada ABI) pasada al Gestor de Claves."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Para desplegar un contrato pueden utilizarse tanto el opcode ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE")," como ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1014"},(0,r.kt)("inlineCode",{parentName:"a"},"CREATE2")),"."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"SETDATA")," - Permite fijar datos sobre el contrato controlado"),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000040000")),(0,r.kt)("p",null,"Permite a una direcci\xf3n escribir cualquier forma de datos en el almac\xe9n de claves de datos - valores ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725y"},"ERC725Y")," de la ",(0,r.kt)("inlineCode",{parentName:"p"},"CuentaERC725")," vinculada (excepto permisos, que requieren los permisos ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGEPERMISSIONS"),")."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"NB:")," una ",(0,r.kt)("inlineCode",{parentName:"p"},"direcci\xf3n")," puede restringirse para establecer s\xf3lo claves de datos espec\xedficas mediante ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#allowed-erc725y-keys"},"Claves de Datos ERC725Y permitidas")),"."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"ENCRYPT"),": Permite cifrar datos o mensajes en nombre de la cuenta controlada"),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000080000")),(0,r.kt)("p",null,"Los desarrolladores pueden utilizar el permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"ENCRYPT")," para cifrar datos o mensajes, por ejemplo para mensajer\xeda privada.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"DECRYPT"),": Permite descifrar datos o mensajes en nombre de la cuenta controlada"),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000100000")),(0,r.kt)("p",null,"Los desarrolladores pueden utilizar el permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"DECRYPT")," para descifrar datos o mensajes, por ejemplo para mensajer\xeda privada.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"SIGN"),": Permite firmar en nombre de la cuenta controlada, por ejemplo para iniciar sesi\xf3n."),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000200000")),(0,r.kt)("p",null,"El permiso ",(0,r.kt)("inlineCode",{parentName:"p"},"SIGN")," permite a una direcci\xf3n autenticarse en nombre de la UP. Se puede utilizar principalmente en aplicaciones web2.0 para ",(0,r.kt)("a",{parentName:"p",href:"../../guides/browser-extension/sign-in-with-ethereum"},"firmar mensajes de inicio de sesi\xf3n"),".")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Cuando se despliega con nuestra herramienta ",(0,r.kt)("a",{parentName:"p",href:"https://docs.lukso.tech/tools/lsp-factoryjs/getting-started"},(0,r.kt)("strong",{parentName:"a"},"lsp-factory.js")),", el propietario del Perfil Universal tendr\xe1 todos los permisos anteriores establecidos por defecto.")),(0,r.kt)("h3",{id:"super-permisos"},"SUPER Permisos"),(0,r.kt)("p",null,"Los superpermisos conceden los mismos permisos que sus hom\xf3logos no super, con la diferencia de que las comprobaciones de las restricciones para ",(0,r.kt)("a",{parentName:"p",href:"#allowed-calls"},(0,r.kt)("strong",{parentName:"a"},"Llamadas Permitidas"))," y ",(0,r.kt)("a",{parentName:"p",href:"#allowed-erc725y-data-keys"},(0,r.kt)("strong",{parentName:"a"},"Claves de Datos ERC725Y Permitidas"))," se ",(0,r.kt)("em",{parentName:"p"},"saltan"),". Esto permite transacciones m\xe1s baratas tanto si estas restricciones est\xe1n establecidas como si no."),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"SUPER_TRANSFERVALUE")),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000100")),(0,r.kt)("p",null,"Igual que ",(0,r.kt)("inlineCode",{parentName:"p"},"TRANSFERVALUE"),", pero permitiendo enviar tokens nativos a cualquier ",(0,r.kt)("inlineCode",{parentName:"p"},"direcci\xf3n")," (EOA o contrato). Esto tampoco comprobar\xe1 ",(0,r.kt)("a",{parentName:"p",href:"#llamadas-permitidas"},(0,r.kt)("strong",{parentName:"a"},"Llamadas permitidas"))," al transferir valor a contratos.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"SUPER_CALL")),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000000400")),(0,r.kt)("p",null,"Igual que ",(0,r.kt)("inlineCode",{parentName:"p"},"CALL"),", pero permitiendo interactuar con cualquier contrato. Esto no comprobar\xe1 ",(0,r.kt)("a",{parentName:"p",href:"#allowed-calls"},(0,r.kt)("strong",{parentName:"a"},"Llamadas permitidas"))," si el llamante tiene alguna de estas restricciones establecidas.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"SUPER_STATICCALL")),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000001000")),(0,r.kt)("p",null,"Igual que ",(0,r.kt)("inlineCode",{parentName:"p"},"STATICCALL"),", pero permitiendo interactuar con cualquier contrato. No comprobar\xe1 ",(0,r.kt)("a",{parentName:"p",href:"#allowed-calls"},(0,r.kt)("strong",{parentName:"a"},"Llamadas permitidas"))," si el llamante tiene alguna de estas restricciones establecidas.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("code",null,"SUPER_DELEGATECALL")),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000004000")),(0,r.kt)("p",null,"Igual que ",(0,r.kt)("inlineCode",{parentName:"p"},"DELEGATECALL"),", pero permitiendo interactuar con cualquier contrato. Esto no comprobar\xe1 ",(0,r.kt)("a",{parentName:"p",href:"#allowed-calls"},(0,r.kt)("strong",{parentName:"a"},"Llamadas permitidas"))," si el llamante tiene alguna de estas restricciones establecidas.")),(0,r.kt)("details",{id:"super-set-data"},(0,r.kt)("summary",null,(0,r.kt)("code",null,"SUPER_SETDATA")),(0,r.kt)("p",{style:{marginBottom:"3%",marginTop:"2%",textAlign:"center"}},(0,r.kt)("b",null,"value = "),(0,r.kt)("code",null,"0x0000000000000000000000000000000000000000000000000000000000020000")),(0,r.kt)("p",null,"Igual que ",(0,r.kt)("inlineCode",{parentName:"p"},"SETDATA"),", pero permitiendo establecer cualquier clave de datos ERC725Y. Esto no comprobar\xe1 ",(0,r.kt)("a",{parentName:"p",href:"#allowed-erc725y-data-keys"},(0,r.kt)("strong",{parentName:"a"},"Claves de datos ERC725Y permitidas"))," si la persona que llama tiene alguna restricci\xf3n.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Se debe utilizar con precauci\xf3n, ya que incluso si se establecen restricciones a ciertas ",(0,r.kt)("a",{parentName:"p",href:"#allowed-calls"},(0,r.kt)("strong",{parentName:"a"},"Llamadas permitidas"))," o ",(0,r.kt)("a",{parentName:"p",href:"#allowed-erc725y-data-keys"},(0,r.kt)("strong",{parentName:"a"},"Claves de datos ERC725Y permitidas"))," para una direcci\xf3n de controlador, se ignorar\xe1n.")),(0,r.kt)("h3",{id:"combinar-permisos"},"Combinar permisos"),(0,r.kt)("p",null,"Los permisos pueden combinarse si una ",(0,r.kt)("inlineCode",{parentName:"p"},"direcci\xf3n")," necesita m\xe1s de un permiso. Para ello"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"calcula la suma del valor decimal de cada permiso."),(0,r.kt)("li",{parentName:"ol"},"convierte el resultado a hexadecimal.")),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Ejemplo"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"example1",label:"Example 1",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"permissions: CALL + TRANSFERVALUE\n\n  0x0000000000000000000000000000000000000000000000000000000000000800 (2048 in decimal)\n+ 0x0000000000000000000000000000000000000000000000000000000000000200 (512)\n---------------------------------------------------------------------\n= 0x0000000000000000000000000000000000000000000000000000000000000a00 (= 2560)\n"))),(0,r.kt)(i.Z,{value:"example2",label:"Example 2",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"permissions: CHANGEPERMISSIONS + SETDATA\n\n  0x0000000000000000000000000000000000000000000000000000000000000004 (4 in decimal)\n+ 0x0000000000000000000000000000000000000000000000000000000000040000 (262144)\n---------------------------------------------------------------------\n= 0x0000000000000000000000000000000000000000000000000000000000040004 (= 262148)\n"))))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"consultar-las-direcciones-con-permisos"},"Consultar las direcciones con permisos"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"La funci\xf3n de conveniencia ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/tools/erc725js/classes/ERC725#getdata"},(0,r.kt)("inlineCode",{parentName:"a"},"getData(...)"))," de ",(0,r.kt)("a",{parentName:"p",href:"../../../../../../../tools/erc725js/getting-started"},(0,r.kt)("em",{parentName:"a"},"erc725.js"))," te devolver\xe1 la lista completa de direcciones con permisos, al proporcionar la clave de datos del conjunto ",(0,r.kt)("inlineCode",{parentName:"p"},"AddressPermission[]")," como par\xe1metro.")),(0,r.kt)("p",null,"Puedes obtener la lista de ",(0,r.kt)("inlineCode",{parentName:"p"},"direcciones")," que tienen alg\xfan permiso establecido en la CuentaERC725 vinculada consultando la clave de datos ",(0,r.kt)("inlineCode",{parentName:"p"},"AddressPermission[]"),", en el almacenamiento ERC725Y a trav\xe9s de ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/smart-contracts/erc725-contract#getdata---erc725y"},(0,r.kt)("inlineCode",{parentName:"a"},"getData(...)")),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"key:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"valor devuelto:")," el n\xfamero total de direcciones que tienen alg\xfan permiso establecido (= longitud del conjunto)")),(0,r.kt)("p",null,"Cada ",(0,r.kt)("inlineCode",{parentName:"p"},"direcci\xf3n")," puede ser recuperada accediendo a cada \xedndice del conjunto (ver ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/es/standards/generic-standards/lsp2-json-schema#array"},"LSP2 > Conjuntos docs")," y ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#array"},"LSP2 > Especificaciones est\xe1ndar de conjuntos")," para instrucciones m\xe1s detalladas)."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "AddressPermissions[]",\n  "key": "0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3",\n  "keyType": "Array",\n  "valueType": "address",\n  "valueContent": "Address"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"AddressPermissions array - list of addresses with permissions",src:t(3282).Z,width:"1365",height:"732"})),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"ejemplo:")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"si la clave de datos del conjunto ",(0,r.kt)("inlineCode",{parentName:"em"},"AddressPermission[]")," devuelve ",(0,r.kt)("inlineCode",{parentName:"em"},"0x00000000000000000000000000000000000000000000000000000000000000000004")," (longitud del conjunto = 4), cada ",(0,r.kt)("inlineCode",{parentName:"em"},"direcci\xf3n")," puede obtenerse consultando las siguientes claves de datos:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"em"},"0xdf30dba06db6a30e65354d9a64c6098600000000000000000000000000000000"),": 1\xaa ",(0,r.kt)("inlineCode",{parentName:"em"},"direcci\xf3n"),"( \xedndice 0 del conjunto = ",(0,r.kt)("inlineCode",{parentName:"em"},"AddressPermissions[0]"),")")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"em"},"0xdf30dba06db6a30e65354d9a64c6098600000000000000000000000000000001"),": 2\xaa ",(0,r.kt)("inlineCode",{parentName:"em"},"direcci\xf3n"),"( \xedndice 1 del conjunto = ",(0,r.kt)("inlineCode",{parentName:"em"},"AddressPermissions[1]"),")")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"em"},"0xdf30dba06db6a30e65354d9a64c6098600000000000000000000000000000002"),": 3\xaa ",(0,r.kt)("inlineCode",{parentName:"em"},"direcci\xf3n"),"( \xedndice 2 del conjunto = ",(0,r.kt)("inlineCode",{parentName:"em"},"AddressPermissions[2]"),")")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"em"},"0xdf30dba06db6a30e65354d9a64c6098600000000000000000000000000000003"),": 4\xaa ",(0,r.kt)("inlineCode",{parentName:"em"},"direcci\xf3n"),"( \xedndice 3 del conjunto = ",(0,r.kt)("inlineCode",{parentName:"em"},"AddressPermissions[3]"),")"))),(0,r.kt)("h2",{id:"tipos-de-permisos"},"Tipos de permisos"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Tipo de Permiso"),(0,r.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:null},"clave de datos ",(0,r.kt)("inlineCode",{parentName:"th"},"bytes32")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#address-permissions"},(0,r.kt)("strong",{parentName:"a"},"Address Permissions"))),(0,r.kt)("td",{parentName:"tr",align:null},"define un conjunto de ",(0,r.kt)("a",{parentName:"td",href:"#permissions"},(0,r.kt)("strong",{parentName:"a"},"permisos"))," para una ",(0,r.kt)("inlineCode",{parentName:"td"},"direcci\xf3n"),"."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x4b80742de2bf82acb3630000<address>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#allowed-calls"},(0,r.kt)("strong",{parentName:"a"},"Allowed Calls"))),(0,r.kt)("td",{parentName:"tr",align:null},"define un conjunto de interacciones (funci\xf3n + direcci\xf3n + est\xe1ndar) permitidas para una direcci\xf3n de controlador."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x4b80742de2bf393a64c70000<address>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#allowed-erc725y-keys"},(0,r.kt)("strong",{parentName:"a"},"Allowed ERC725Y Data Keys"))),(0,r.kt)("td",{parentName:"tr",align:null},'define una lista de claves de datos ERC725Y que una "direcci\xf3n" s\xf3lo puede establecer mediante ',(0,r.kt)("a",{parentName:"td",href:"/lukso-es/es/standards/smart-contracts/lsp0-erc725-account#setdata-array"},(0,r.kt)("inlineCode",{parentName:"a"},"setData(...)"))," en la CuentaERC725 vinculada."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x4b80742de2bf866c29110000<address>"))))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md#erc725y-data-keys"},"Para m\xe1s informaci\xf3n, ver LSP6"))),(0,r.kt)("p",null,"Los valores establecidos bajo estas claves de datos de permiso ",(0,r.kt)("strong",{parentName:"p"},"DEBEN tener el siguiente formato")," para garantizar el correcto comportamiento de sus funciones."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Address Permissions"),": un valor ",(0,r.kt)("inlineCode",{parentName:"li"},"bytes32"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Allowed Calls"),": un ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#bytescompactbytesarray"},"CompactBytesArray")," de la tupla ",(0,r.kt)("inlineCode",{parentName:"li"},"(bytes4,address,bytes4)"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Allowed ERC725Y Data Keys"),": un ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#bytescompactbytesarray"},"CompactBytesArray")," de bytes, que contiene valores de ",(0,r.kt)("inlineCode",{parentName:"li"},"bytes1")," a ",(0,r.kt)("inlineCode",{parentName:"li"},"bytes32"),".")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Para ",(0,r.kt)("strong",{parentName:"p"},"a\xf1adir/eliminar entradas en la lista de llamadas permitidas o Claves de Datos ERC725Y"),", el ",(0,r.kt)("strong",{parentName:"p"},"conjunto completo de bytes compactos")," debe ser cifrado de nuevo y restablecido. Cada actualizaci\xf3n ",(0,r.kt)("strong",{parentName:"p"},"anula todo el estado anterior"),"."),(0,r.kt)("p",{parentName:"admonition"},"Ten en cuenta que este proceso es costoso, ya que los datos que se establecen son un ",(0,r.kt)("strong",{parentName:"p"},"CompactBytesArray"),".")),(0,r.kt)("h3",{id:"permisos-de-direcci\xf3n"},"Permisos de direcci\xf3n"),(0,r.kt)("p",null,"Una direcci\xf3n puede tener uno (o m\xe1s) permisos, lo que le permite realizar m\xfaltiples ",(0,r.kt)("em",{parentName:"p"},'"acciones"')," en una CuentaERC725. Dichas ",(0,r.kt)("em",{parentName:"p"},'"acciones"')," incluyen ",(0,r.kt)("strong",{parentName:"p"},"establecer datos")," en la CuentaERC725, ",(0,r.kt)("strong",{parentName:"p"},"llamar a otros contratos"),", ",(0,r.kt)("strong",{parentName:"p"},"transferir tokens nativos"),", etc."),(0,r.kt)("p",null,"Para conceder permiso(s) a una ",(0,r.kt)("inlineCode",{parentName:"p"},"<address>"),", establezca el siguiente par de datos clave - valor en el almacenamiento ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725y"},"ERC725Y")," de la ERC725Account vinculada al Gestor de Claves."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"key:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"0x4b80742de2bf82acb3630000<address>"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"value:")," uno de los permisos disponibles a continuaci\xf3n. Para conceder varios permisos, consulte la secci\xf3n Combinaci\xf3n de permisos.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"NB:")," recuerda eliminar el prefijo ",(0,r.kt)("inlineCode",{parentName:"p"},"0x")," del campo ",(0,r.kt)("inlineCode",{parentName:"p"},"<address>")," anterior.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "AddressPermissions:Permissions:<address>",\n  "key": "0x4b80742de2bf82acb3630000<address>",\n  "keyType": "MappingWithGrouping",\n  "valueType": "bytes32",\n  "valueContent": "BitArray"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Address Permissions range",src:t(9592).Z,width:"6664",height:"1621"})),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"}," \xa1Otorgar permisos a la propia CuentaERC725 vinculada es peligroso! ")),(0,r.kt)("p",{parentName:"admonition"},"Un usuario puede crear una carga \xfatil a trav\xe9s de ",(0,r.kt)("inlineCode",{parentName:"p"},"ERC725X.execute(...)")," para enviarla de vuelta al GestordeClaves, lo que puede dar lugar a un potencial ataque de reentrada."),(0,r.kt)("p",{parentName:"admonition"},"Tal flujo de transacciones puede llevar a un llamador inicial a utilizar m\xe1s permisos de los permitidos inicialmente mediante el uso de los permisos concedidos a la direcci\xf3n de la CuentaERC725 vinculada.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Cada permiso DEBE tener ",(0,r.kt)("strong",{parentName:"p"},"exactamente 32 bytes")," y ",(0,r.kt)("strong",{parentName:"p"},"relleno de ceros a la izquierda"),":"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x0000000000000000000000000000000000000000000000000000000000000008")," \u2705"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x0800000000000000000000000000000000000000000000000000000000000000")," \u274c")),(0,r.kt)("p",{parentName:"admonition"},"Por ejemplo, si intentas establecer el permiso TRANSFERVALUE para una direcci\xf3n como ",(0,r.kt)("inlineCode",{parentName:"p"},"0x08"),", esto se almacenar\xe1 internamente como  ",(0,r.kt)("inlineCode",{parentName:"p"},"0x0800000000000000000000000000000000000000000000000000000000000000"),"."),(0,r.kt)("p",{parentName:"admonition"},"Aseg\xfarate de que el valor ",(0,r.kt)("inlineCode",{parentName:"p"},"bytes32")," establecido en los permisos es correcto seg\xfan estas reglas, para evitar comportamientos incorrectos o inesperados y errores.")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"llamadas-permitidas"},"Llamadas Permitidas"),(0,r.kt)("p",null,"Puedes restringir una direcci\xf3n con la que interactuar:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Est\xe1ndares"),(0,r.kt)("p",null,"Estos contratos DEBEN implementar el est\xe1ndar ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-165"},"ERC165")," para poder detectar sus interfaces."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"ID de Interfaz"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Significado"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"0xffffffff")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Se permite interactuar con cualquier norma.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"Interfaces espec\xedficas"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Se permite la interacci\xf3n con una norma espec\xedfica."))))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Direcciones"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Direcciones"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Significado"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"0xffffffffffffffffffffffffffffffffffffffff")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Se permite interactuar con cualquier norma.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"Otras direcciones"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Se permite la interacci\xf3n con una norma espec\xedfica."))))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Funciones"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Selector de Funci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Significado"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"0xffffffff")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Se permite interactuar con cualquier norma.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"Otros selectores de funci\xf3n"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Se permite la interacci\xf3n con una norma espec\xedfica."))))),(0,r.kt)("p",null,"Para permitir que una ",(0,r.kt)("inlineCode",{parentName:"p"},"<direcci\xf3n>")," ejecute cualquier funci\xf3n en una LSP0ERC725Account (ID de interfaz ",(0,r.kt)("inlineCode",{parentName:"p"},"0x66767497"),") desplegada en la direcci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"0xCA41e4ea94c8fA99889c8EA2c8948768cBaf4bc0"),", puede establecerse el par de datos clave - valor que figura a continuaci\xf3n en el almacenamiento del contrato ERC725Y."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"key:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"0x4b80742de2bf393a64c70000<address>")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"valores posibles:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"(bytes4,address,bytes4)[CompactBytesArray]"),": un ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#bytescompactbytesarray"},(0,r.kt)("strong",{parentName:"a"},"CompactBytesArray"))," de tupla ",(0,r.kt)("inlineCode",{parentName:"li"},"(bytes4,address,bytes4)")," que se crea concatenando el ",(0,r.kt)("em",{parentName:"li"},"selector de funci\xf3n"),", la ",(0,r.kt)("em",{parentName:"li"},"direcci\xf3n")," y el ",(0,r.kt)("em",{parentName:"li"},"est\xe1ndar")," elegidos. Por ejemplo: ",(0,r.kt)("inlineCode",{parentName:"li"},"0x001c66767497CA41e4ea94c8fA99889c8EA2c8948768cBaf4bc0ffffffff")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x")," (vac\xedo): si el valor es un ",(0,r.kt)("strong",{parentName:"li"},"byte vac\xedo")," (= ",(0,r.kt)("inlineCode",{parentName:"li"},"0x"),"), el llamante ",(0,r.kt)("inlineCode",{parentName:"li"},"<direcci\xf3n>")," no puede interactuar con ninguna funci\xf3n, direcci\xf3n o est\xe1ndar (",(0,r.kt)("strong",{parentName:"li"},"= todas las llamadas est\xe1n prohibidas"),").")))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Combining multiple interactions"),(0,r.kt)("p",null,"Si quieres tener varias interacciones diferentes, DEBES a\xf1adir cada una de las interacciones deseadas a un ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#bytescompactbytesarray"},(0,r.kt)("strong",{parentName:"a"},"CompactBytesArray")),". Ten en cuenta que la longitud de cada elemento en el ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#bytescompactbytesarray"},(0,r.kt)("strong",{parentName:"a"},"CompactBytesArray"))," debe ser ",(0,r.kt)("strong",{parentName:"p"},"28")," = ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"0x001c")),", porque un ",(0,r.kt)("em",{parentName:"p"},"standard")," usa ",(0,r.kt)("strong",{parentName:"p"},"4 bytes"),", una ",(0,r.kt)("em",{parentName:"p"},"address")," usa ",(0,r.kt)("strong",{parentName:"p"},"20 bytes")," y una ",(0,r.kt)("em",{parentName:"p"},"function")," usa ",(0,r.kt)("strong",{parentName:"p"},"4 bytes"),"."),(0,r.kt)("p",null,"Ej:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Standard"),": ",(0,r.kt)("strong",{parentName:"li"},"LSP0, ",(0,r.kt)("inlineCode",{parentName:"strong"},"0x66767497")),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"Address"),": ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"0xCA41e4ea94c8fA99889c8EA2c8948768cBaf4bc0")),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"Function"),": ",(0,r.kt)("strong",{parentName:"li"},"any"),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"CompactBytesArray"),": ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"0x001c66767497CA41e4ea94c8fA99889c8EA2c8948768cBaf4bc0ffffffff"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Standard"),": ",(0,r.kt)("strong",{parentName:"li"},"any"),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"Address"),": ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"0xF70Ce3b58f275A4c28d06C98615760dDe774DE57")),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"Function"),": ",(0,r.kt)("strong",{parentName:"li"},"transfer(address,address,uint256,bool,bytes), ",(0,r.kt)("inlineCode",{parentName:"strong"},"0x760d9bba")),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"CompactBytesArray"),": ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"0x001cffffffffF70Ce3b58f275A4c28d06C98615760dDe774DE57760d9bba"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Standard"),": ",(0,r.kt)("strong",{parentName:"li"},"any"),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"Address"),": ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"0xd3236aa1B8A4dDe5eA375fd1F2Fb5c354e686c9f")),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"Function"),": ",(0,r.kt)("strong",{parentName:"li"},"any"),";",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("em",{parentName:"li"},"CompactBytesArray"),": ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"0x001cffffffffd3236aa1B8A4dDe5eA375fd1F2Fb5c354e686c9fffffffff")))),(0,r.kt)("p",null,"Un ",(0,r.kt)("em",{parentName:"p"},"CompactBytesArray")," para estas 3 interacciones tendr\xeda el siguiente aspecto:\n",(0,r.kt)("inlineCode",{parentName:"p"},"0x"),(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"001c")),(0,r.kt)("inlineCode",{parentName:"p"},"66767497CA41e4ea94c8fA99889c8EA2c8948768cBaf4bc0ffffffff"),(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"001c")),(0,r.kt)("inlineCode",{parentName:"p"},"ffffffffF70Ce3b58f275A4c28d06C98615760dDe774DE57760d9bba"),(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"001c")),(0,r.kt)("inlineCode",{parentName:"p"},"ffffffffd3236aa1B8A4dDe5eA375fd1F2Fb5c354e686c9fffffffff"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "AddressPermissions:AllowedCalls:<address>",\n  "key": "0x4b80742de2bf393a64c70000<address>",\n  "keyType": "MappingWithGrouping",\n  "valueType": "(bytes4,address,bytes4)[CompactBytesArray]",\n  "valueContent": "(Bytes4,Address,Bytes4)"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP6 Allowed Calls Overview",src:t(6314).Z,width:"12024",height:"9302"})),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},'Permitir un est\xe1ndar espec\xedfico no ofrece seguridad sobre el funcionamiento interno o la correcci\xf3n de un contrato inteligente. Deber\xeda utilizarse m\xe1s como un mecanismo de "prevenci\xf3n de errores" que como una medida de seguridad.')),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Si no se establecen llamadas permitidas (",(0,r.kt)("inlineCode",{parentName:"strong"},"0x"),"), un controlador no puede interactuar con ninguna direcci\xf3n ni transferir ning\xfan valor (Contrato o EOA)."))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"claves-de-datos-erc725y-permitidas"},"Claves de datos ERC725Y permitidas"),(0,r.kt)("p",null,"Si a una direcci\xf3n se le permite ",(0,r.kt)("a",{parentName:"p",href:"#permissions"},(0,r.kt)("inlineCode",{parentName:"a"},"SETDATA"))," en una CuentaERC725, es posible restringir qu\xe9 claves de datos puede establecer o actualizar esta direcci\xf3n."),(0,r.kt)("p",null,"Para restringir que una ",(0,r.kt)("inlineCode",{parentName:"p"},"<direcci\xf3n>")," s\xf3lo pueda establecer la clave ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP3Profile")," (",(0,r.kt)("inlineCode",{parentName:"p"},"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5"),"), puede establecerse el siguiente par clave-valor de datos en el almacenamiento del contrato ERC725Y. Cifrar los datos como ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#bytescompactbytesarray"},(0,r.kt)("strong",{parentName:"a"},"CompactBytesArray")),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"key:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"0x4b80742de2bf866c29110000<address>")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"value(s):")," ",(0,r.kt)("inlineCode",{parentName:"li"},"0x00205ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Claves de datos ERC725Y: tama\xf1o fijo vs tama\xf1o din\xe1mico"),(0,r.kt)("p",null,"Introducci\xf3n (resumen)\nPuedes configurar 2 tipos de ",(0,r.kt)("strong",{parentName:"p"},"Claves de datos ERC725Y"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Claves de Datos de Tama\xf1o Fijo"))),(0,r.kt)("p",null,"Una ",(0,r.kt)("strong",{parentName:"p"},"Clave de Datos de tama\xf1o fijo")," es una clave de datos que tiene una longitud fija de 32 bytes. Si una ",(0,r.kt)("em",{parentName:"p"},"direcci\xf3n de controlador")," tiene una clave de datos ERC725Y de tama\xf1o fijo permitida, entonces esa ",(0,r.kt)("em",{parentName:"p"},"direcci\xf3n de controlador")," s\xf3lo puede cambiar el valor de esa clave de datos de tama\xf1o fijo espec\xedfica."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Claves de Datos de Tama\xf1o Din\xe1mico"))),(0,r.kt)("p",null,"Una ",(0,r.kt)("strong",{parentName:"p"},"Clave de Datos de tama\xf1o din\xe1mico")," es una clave de datos que puede tener una longitud de 1 byte a 31 bytes. Si una ",(0,r.kt)("em",{parentName:"p"},"direcci\xf3n de controlador")," tiene un conjunto de claves de datos ERC725Y de tama\xf1o din\xe1mico permitido, entonces esa ",(0,r.kt)("em",{parentName:"p"},"direcci\xf3n de controlador")," puede cambiar cualquier clave de datos que comience con la ",(0,r.kt)("em",{parentName:"p"},"clave de datos de tama\xf1o din\xe1mico"),"."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},(0,r.kt)("strong",{parentName:"em"},"Ejemplos:"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Claves de Datos de Tama\xf1o Fijo"))),(0,r.kt)("p",null,"Imaginemos la siguiente situaci\xf3n: has establecido una ",(0,r.kt)("strong",{parentName:"p"},"Clave de datos ERC725Y permitida de tama\xf1o fijo")," (por ejemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5"),") para una direcci\xf3n de controlador (por ejemplo, Alice).\nCon esa Configuraci\xf3n permitiste a Alice actualizar s\xf3lo el valor de la ",(0,r.kt)("strong",{parentName:"p"},"Clave de Datos ERC725Y Permitida"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Claves de datos ERC725Y permitidas en LSP6, clave de tama\xf1o fijo",src:t(8032).Z,width:"8962",height:"5334"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Claves de Datos de Tama\xf1o Din\xe1mico"))),(0,r.kt)("p",null,"Imaginemos la siguiente situaci\xf3n, estableces una ",(0,r.kt)("strong",{parentName:"p"},"Clave de datos de tama\xf1o din\xe1mico ERC725Y permitida")," (por ejemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"0xbeefbeefbeefbeef"),") para una direcci\xf3n de controlador (por ejemplo, Bob).\nCon esta configuraci\xf3n, permites a Bob establecer cualquier ",(0,r.kt)("strong",{parentName:"p"},"clave de datos")," que empiece por ",(0,r.kt)("inlineCode",{parentName:"p"},"0xbeefbeefbeef"),"."),(0,r.kt)("p",null,"E.g:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0xbeefbeefbeefbeefcafecafecafecafecafecafecafecafecafecafecafecafe")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0xbeefbeefbeefbeef0000000000000000000000000000000000000000c629dfa8")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0xbeefbeefbeefbeef000000000000000000000000000000000000000000001253"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP6 Allowed ERC725Y Data Keys, Dynamic-Size Key",src:t(857).Z,width:"8962",height:"10722"}))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Combinar varias Claves de Datos ERC725Y"),(0,r.kt)("p",null,"Si quieres tener m\xfaltiples claves de datos ERC725Y diferentes permitidas, DEBES a\xf1adir cada una de las claves de datos deseadas a un ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#bytescompactbytesarray"},(0,r.kt)("strong",{parentName:"a"},"CompactBytesArray")),"."),(0,r.kt)("p",null,"Ej.:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5")," (",(0,r.kt)("strong",{parentName:"li"},"longitud: 32 bytes")," = ",(0,r.kt)("inlineCode",{parentName:"li"},"0x0020"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x5ef83ad9559033e6e941db7d7c495acd")," (",(0,r.kt)("strong",{parentName:"li"},"longitud: 16 bytes")," = ",(0,r.kt)("inlineCode",{parentName:"li"},"0x0010"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0xbeefbeef")," (",(0,r.kt)("strong",{parentName:"li"},"longitud: 4 bytes")," = ",(0,r.kt)("inlineCode",{parentName:"li"},"0x0004"),")")),(0,r.kt)("p",null,"Un CompactBytesArray para estas 3 claves de datos ERC725Y tendr\xeda el siguiente aspecto:\n",(0,r.kt)("inlineCode",{parentName:"p"},"0x"),(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"0020")),(0,r.kt)("inlineCode",{parentName:"p"},"5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5"),(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"0010")),(0,r.kt)("inlineCode",{parentName:"p"},"5ef83ad9559033e6e941db7d7c495acd"),(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"0004")),(0,r.kt)("inlineCode",{parentName:"p"},"beefbeef"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "AddressPermissions:AllowedERC725YDataKeys:<address>",\n  "key": "0x4b80742de2bf866c29110000<address>",\n  "keyType": "MappingWithGrouping",\n  "valueType": "bytes32[CompactBytesArray]",\n  "valueContent": "Bytes32"\n}\n')),(0,r.kt)("p",null,"A continuaci\xf3n se muestra un caso pr\xe1ctico de ejemplo. Una CuentaERC725 puede permitir que algunas aplicaciones a\xf1adan/editen informaci\xf3n en su almacenamiento a trav\xe9s de ",(0,r.kt)("inlineCode",{parentName:"p"},"setData(...)"),". La cuenta puede restringir tales dApps y protocolos para editar las claves de datos que s\xf3lo son relevantes para la l\xf3gica de sus aplicaciones."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Vista general de las claves de datos ERC725Y permitidas en LSP6",src:t(4575).Z,width:"1440",height:"694"})),(0,r.kt)("p",null,"Como resultado, esto proporciona contexto para la dApp sobre qu\xe9 datos pueden operar en la cuenta, mientras que les impide editar otra informaci\xf3n, como los metadatos de la cuenta, o datos relevantes para otras dapps."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP6 Allowed ERC725YDataKeys overview",src:t(4081).Z,width:"1405",height:"711"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP6 Allowed ERC725YDataKeys overview",src:t(5948).Z,width:"1415",height:"706"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP6 Allowed ERC725YDataKeys overview",src:t(8888).Z,width:"1423",height:"702"})),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Si no se establecen claves de datos ERC725Y permitidas, la direcci\xf3n del controlador no puede establecer ning\xfan valor para ninguna clave."))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"types-of-execution"},"Types of Execution"),(0,r.kt)("p",null,"Tipos de Ejecuci\xf3n"),(0,r.kt)("p",null,"Existen 2 formas de interactuar con la CuentaERC725 vinculada al Gestor de Claves."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ejecuci\xf3n directa"),", en la que la ",(0,r.kt)("inlineCode",{parentName:"li"},"direcci\xf3n")," llamante env\xeda directamente una ",(0,r.kt)("strong",{parentName:"li"},"carga \xfatil")," al Gestor de Claves (= llamada a funci\xf3n cifrada en la CuentaERC725 vinculada) al Gestor de Claves a trav\xe9s de ",(0,r.kt)("inlineCode",{parentName:"li"},"execute(...)"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ejecuci\xf3n por retransmisi\xf3n"),", en la que una ",(0,r.kt)("inlineCode",{parentName:"li"},"direcci\xf3n")," ",(0,r.kt)("strong",{parentName:"li"},"A")," firmante firma una carga \xfatil y una ",(0,r.kt)("inlineCode",{parentName:"li"},"direcci\xf3n")," ",(0,r.kt)("strong",{parentName:"li"},"B")," ejecutora (",(0,r.kt)("em",{parentName:"li"},"por ejemplo, un servicio de retransmisi\xf3n"),") ejecuta la carga \xfatil en nombre del firmante a trav\xe9s de ",(0,r.kt)("inlineCode",{parentName:"li"},"executeRelayCall(...)"),".")),(0,r.kt)("p",null,"La principal diferencia entre la ejecuci\xf3n directa ",(0,r.kt)("em",{parentName:"p"},"vs")," la ejecuci\xf3n por retransmisi\xf3n es que con la ejecuci\xf3n directa, la ",(0,r.kt)("inlineCode",{parentName:"p"},"direcci\xf3n de llamada")," es la direcci\xf3n real que realiza la solicitud + el pago del coste de gas de la ejecuci\xf3n. Con la ejecuci\xf3n de retransmisi\xf3n, una ",(0,r.kt)("inlineCode",{parentName:"p"},"direcci\xf3n")," firmante puede interactuar con la CuentaERC725 sin tener que pagar el coste del gas."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Direct vs Relay Execution",src:t(4895).Z,width:"1306",height:"765"})),(0,r.kt)("h3",{id:"ejecuci\xf3n-por-retransmisi\xf3n"},"Ejecuci\xf3n por Retransmisi\xf3n"),(0,r.kt)("p",null,"La ejecuci\xf3n por retransmisi\xf3n permite a los usuarios interactuar con contratos inteligentes en la blockchain ",(0,r.kt)("strong",{parentName:"p"},"sin necesidad de tokens nativos")," para pagar las cuotas de transacci\xf3n. Esto permite una mejor experiencia de integraci\xf3n para los usuarios nuevos en criptomonedas y blockchain."),(0,r.kt)("p",null,"La ejecuci\xf3n por retransmisi\xf3n minimiza la fricci\xf3n para las dApps, incluyendo la eliminaci\xf3n de la necesidad de que los usuarios se preocupen por la cuota de gas, o cualquier paso complejo necesario para operar en blockchains (KYC, frases de semillas, gas)."),(0,r.kt)("p",null,"Las dapps pueden entonces aprovechar las caracter\xedsticas de ejecuci\xf3n por retransmisi\xf3n para crear su propio modelo de negocio en torno a la construcci\xf3n de su propio ",(0,r.kt)("strong",{parentName:"p"},"servicio de retransmisi\xf3n"),", soluci\xf3n de contratos inteligentes en la parte superior del Gestor de Claves para pagar con sus tokens, o acordar con los usuarios m\xe9todos de pago, incluyendo suscripciones, anuncios, etc..."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP6 Key Manager Relay Service",src:t(351).Z,width:"3328",height:"1201"})),(0,r.kt)("h3",{id:"c\xf3mo-se-firman-las-transacciones-por-retransmisi\xf3n"},"\xbfC\xf3mo se firman las transacciones por retransmisi\xf3n?"),(0,r.kt)("p",null,"Las transacciones de retransmisi\xf3n se firman utilizando la ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-191.md#version-0x00"},(0,r.kt)("strong",{parentName:"a"},"versi\xf3n 0 de EIP191")),". Los datos de la llamada de retransmisi\xf3n que desea firmar ",(0,r.kt)("strong",{parentName:"p"},"DEBEN")," ser el ",(0,r.kt)("em",{parentName:"p"},"keccak256 hash digest")," de los siguientes elementos ",(0,r.kt)("em",{parentName:"p"},"(valores de bytes)")," concatenados."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"0x19 <0x00> <KeyManager address> <LSP6_VERSION> <chainId> <nonce> <value> <payload>\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Elementos del mensaje"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Detalles"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"0x19")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Byte utilizado para garantizar que el ",(0,r.kt)("em",{parentName:"td"},"relay call signed data")," no es un RLP v\xe1lido.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"0x00")),(0,r.kt)("td",{parentName:"tr",align:"left"},"La ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-191.md#version-0x00"},(0,r.kt)("strong",{parentName:"a"},"versi\xf3n 0 de EIP191")),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"KeyManager address")),(0,r.kt)("td",{parentName:"tr",align:"left"},"La direcci\xf3n del Gestor de Claves que ejecutar\xe1 la llamada de retransmisi\xf3n.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"LSP6_VERSION")),(0,r.kt)("td",{parentName:"tr",align:"left"},"La versi\xf3n del Gestor de Claves que ejecutar\xe1 la llamada de retransmisi\xf3n, como ",(0,r.kt)("inlineCode",{parentName:"td"},"uint256"),". (La versi\xf3n actual del Gestor de Claves de LSP6 es ",(0,r.kt)("strong",{parentName:"td"},"6"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"chainId")),(0,r.kt)("td",{parentName:"tr",align:"left"},"El id de cadena de la blockchain donde est\xe1 desplegado el Gestor de Claves, como ",(0,r.kt)("inlineCode",{parentName:"td"},"uint256"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"nonce")),(0,r.kt)("td",{parentName:"tr",align:"left"},"El ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md#getnonce"},(0,r.kt)("strong",{parentName:"a"},"nonce"))," \xfanico para la carga \xfatil.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:"left"},"La cantidad de ",(0,r.kt)("strong",{parentName:"td"},"tokens nativos")," que se transferir\xe1n a la ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-0-ERC725Account.md"},(0,r.kt)("strong",{parentName:"a"},"Cuenta ERC725"))," vinculada al Gestor de Claves que ejecutar\xe1 la llamada de retransmisi\xf3n.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"payload")),(0,r.kt)("td",{parentName:"tr",align:"left"},"La carga \xfatil que se va a ejecutar.")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Si quieres firmar una transacci\xf3n ",(0,r.kt)("em",{parentName:"p"},"EIP191 de Llamada Ejecutada por Retransmisi\xf3n")," puedes utilizar nuestra librer\xeda, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-eip191-signer"},(0,r.kt)("strong",{parentName:"a"},"eip191-signer.js")),".")),(0,r.kt)("h3",{id:"ejecuci\xf3n-fuera-de-orden"},"Ejecuci\xf3n fuera de orden"),(0,r.kt)("p",null,"Dado que el Gestor de Claves ofrece ",(0,r.kt)("strong",{parentName:"p"},"ejecuci\xf3n de retransmisi\xf3n")," mediante mensaje firmado, es importante proporcionar medidas de seguridad para garantizar que el mensaje firmado no pueda repetirse una vez ejecutado. ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://www.techtarget.com/searchsecurity/definition/nonce#:~:text=A%20nonce%20is%20a%20random,to%20as%20a%20cryptographic%20nonce."},"Nonces"))," exist\xedan para resolver este problema, pero con el siguiente inconveniente:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Los mensajes firmados con nonces secuenciales deben ser ",(0,r.kt)("strong",{parentName:"li"},"ejecutados en orden"),", lo que significa que un mensaje firmado con nonce 4 no puede ser ejecutado antes que el mensaje firmado con nonce 3. Este es un problema cr\xedtico que puede limitar el uso de la ejecuci\xf3n por retransmisi\xf3n.")),(0,r.kt)("p",null,"Aqu\xed vienen los ",(0,r.kt)("strong",{parentName:"p"},"nonces multicanal")," que proporcionan la capacidad de ejecutar mensajes firmados ",(0,r.kt)("strong",{parentName:"p"},"con"),"/sin** un orden espec\xedfico dependiendo de la elecci\xf3n del firmante."),(0,r.kt)("p",null,"Los mensajes firmados deben ejecutarse secuencialmente si se firman en el mismo canal y deben ejecutarse independientemente si se firman en canales diferentes."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"El mensaje firmado con el nonce 4 en el canal 1 no puede ejecutarse antes que el mensaje firmado con el nonce 3 en el canal 1, pero puede ejecutarse antes que el mensaje firmado con el nonce 3 en el canal 2.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP6 Key Manager Relay Service",src:t(7759).Z,width:"3580",height:"1117"})),(0,r.kt)("p",null,"M\xe1s informaci\xf3n sobre ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/lukso-es/es/standards/faq/channel-nonce"},"Nonces multicanal"))," casos de uso y su construcci\xf3n interna."),(0,r.kt)("h2",{id:"referencias"},"Referencias"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md"},"Propuestas de Est\xe1ndares LUKSO: LSP6 - Gestor de Claves (Especificaci\xf3n est\xe1ndar, GitHub)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/lsp-universalprofile-smart-contracts/tree/develop/contracts/LSP6KeyManager"},"LSP6 Gestor de Claves: implementaciones de Solidity (GitHub)"))))}u.isMDXComponent=!0},316:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-add-permissions-8c00ef4ad8d53b18bce6e08f0ee1be18.jpeg"},3282:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-address-permissions-array-eea61d91c1a7358918fd7c9562e1d034.jpeg"},9592:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-address-permissions-439a9b731878ad93f526ae42cb81013a.jpeg"},4081:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-allowed-erc725ydatakeys-example-allowed-a54a17378863d558fc22dc00ff17531e.jpeg"},5948:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-allowed-erc725ydatakeys-example-denied-1-7b1f6f2f72f4d28d319ffe7f5ec329e3.jpeg"},8888:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-allowed-erc725ydatakeys-example-denied-2-e55b5a618c577d102064291d2ad9bda5.jpeg"},4575:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-allowed-erc725ydatakeys-overview-077b7608b102822b8a2b04878484e9db.jpeg"},3372:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-change-permissions-variants-2e2af514218ac95bc37f1af1ccb870d2.jpeg"},6429:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-change-permissions-daa49bb9847ffac6a83f974cf6de6186.jpeg"},4895:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-direct-vs-relay-execution-d9748fa938eeaf08f74e42021aa7042e.jpeg"},6370:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-key-manager-overview-allowed-860ee476a840671fb9c91d33844add3e.jpeg"},497:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-key-manager-overview-not-allowed-7cc48c17c03969685aa8b2787c2c0f0c.jpeg"},7759:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-multi-channel-nonce-44d60f417f589e2c490ac7cff6900e4d.jpeg"},469:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-permissions-60a77d8e924a893ce75f45259c44d49b.jpeg"},9274:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-reentrancy-example-1-84f33b318fc89d3e21161e3990298e54.jpeg"},8561:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-reentrancy-example-2-4ddd68e54b0b869ab057921d0d5f33f2.jpeg"},351:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6-relay-execution-d8fd2f00d7196445e4cc6f65434ecf8d.jpeg"},6314:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6_allowed_calls_example-416a474a5074e69379b7da7267ddbe41.jpeg"},857:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6_allowed_erc725y_data_keys_dynamic_key-587fed4badb94875090a7a0c24448e5a.jpeg"},8032:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp6_allowed_erc725y_data_keys_fixed_key-8e2ffb3b4bdeff2244f3b6ac9a28d4cd.jpeg"}}]);