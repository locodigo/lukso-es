"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[2359],{3905:(e,a,n)=>{n.d(a,{Zo:()=>p,kt:()=>u});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function s(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?s(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=t.createContext({}),d=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},p=function(e){var a=d(e.components);return t.createElement(l.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=d(n),u=r,k=m["".concat(l,".").concat(u)]||m[u]||c[u]||s;return n?t.createElement(k,o(o({ref:a},p),{},{components:n})):t.createElement(k,o({ref:a},p))}));function u(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=n.length,o=new Array(s);o[0]=m;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var d=2;d<s;d++)o[d]=n[d];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7187:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>i,toc:()=>d});var t=n(7462),r=(n(7294),n(3905));const s={sidebar_label:"LSP2 - Esquema JSON ERC725Y",sidebar_position:3},o="LSP2 - Esquema JSON ERC725Y",i={unversionedId:"es/standards/generic-standards/lsp2-json-schema",id:"es/standards/generic-standards/lsp2-json-schema",title:"LSP2 - Esquema JSON ERC725Y",description:"LSP2 - Esquema JSON ERC725Y",source:"@site/docs/es/standards/generic-standards/lsp2-json-schema.md",sourceDirName:"es/standards/generic-standards",slug:"/es/standards/generic-standards/lsp2-json-schema",permalink:"/lukso-es/en/es/standards/generic-standards/lsp2-json-schema",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/es/standards/generic-standards/lsp2-json-schema.md",tags:[],version:"current",lastUpdatedAt:1681103476,formattedLastUpdatedAt:"Apr 10, 2023",sidebarPosition:3,frontMatter:{sidebar_label:"LSP2 - Esquema JSON ERC725Y",sidebar_position:3},sidebar:"standardsSidebar",previous:{title:"LSP14 - Propiedad 2-Pasos",permalink:"/lukso-es/en/es/standards/generic-standards/lsp14-ownable-2-step"},next:{title:"LSP17 - Extensi\xf3n del Contrato",permalink:"/lukso-es/en/es/standards/generic-standards/lsp17-contract-extension"}},l={},d=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"\xbfQu\xe9 representa este est\xe1ndar?",id:"qu\xe9-representa-este-est\xe1ndar",level:2},{value:"Especificaci\xf3n",id:"especificaci\xf3n",level:3},{value:"\xbfC\xf3mo funciona LSP2?",id:"c\xf3mo-funciona-lsp2",level:3},{value:"Tipos de Clave de Datos",id:"tipos-de-clave-de-datos",level:2},{value:"Singleton",id:"singleton",level:3},{value:"Array",id:"array",level:3},{value:"Mapping",id:"mapping",level:3},{value:"Ejemplo 1: Asignaci\xf3n como <code>primeraPalabra:segundaPalabra</code>.",id:"ejemplo-1-asignaci\xf3n-como-primerapalabrasegundapalabra",level:4},{value:"Ejemplo 2: Mapping como <code>primeraPalabra:&lt;address&gt;</code> (<code>&lt;mixed type&gt;</code>)",id:"ejemplo-2-mapping-como-primerapalabraaddress-mixed-type",level:4},{value:"Ejemplo 3: Mapping como <code>primeraPalabra:&lt;bytes32&gt;</code> (<code>&lt;mixed type&gt;</code>)",id:"ejemplo-3-mapping-como-primerapalabrabytes32-mixed-type",level:4},{value:"MappingWithGrouping",id:"mappingwithgrouping",level:3}],p={toc:d};function c(e){let{components:a,...s}=e;return(0,r.kt)("wrapper",(0,t.Z)({},p,s,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lsp2---esquema-json-erc725y"},"LSP2 - Esquema JSON ERC725Y"),(0,r.kt)("admonition",{title:"Documento Est\xe1ndard",type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP2 - Esquema JSON ERC725Y"))),(0,r.kt)("admonition",{title:"Sugerencia",type:"success"},(0,r.kt)("p",{parentName:"admonition"},"Our ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/en/es/tools/erc725js/getting-started"},"JavaScript library ",(0,r.kt)("strong",{parentName:"a"},"erc725.js"))," makes it easy to read + write data encoded according to the LSP2 Schema without manually going through all the encoding complexity.")),(0,r.kt)("h2",{id:"introducci\xf3n"},"Introducci\xf3n"),(0,r.kt)("p",null,"El almacenamiento de un contrato inteligente consiste en m\xfaltiples ",(0,r.kt)("strong",{parentName:"p"},"ranuras de almacenamiento"),". Estas ranuras est\xe1n referenciadas por un ",(0,r.kt)("strong",{parentName:"p"},"n\xfamero de ranura")," (como un ",(0,r.kt)("strong",{parentName:"p"},"entero"),") empezando por la ranura 0. Cada pieza de datos (= estado del contrato) en un contrato inteligente se almacena como ",(0,r.kt)("strong",{parentName:"p"},"bytes en bruto")," en una ranura de almacenamiento espec\xedfica."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"En resumen, los contratos inteligentes s\xf3lo entienden dos lenguajes: bytes y uint256.\nTomemos el siguiente par clave-valor, por ejemplo. No es f\xe1cil inferir el significado de estas claves de datos ley\xe9ndolas como ",(0,r.kt)("strong",{parentName:"p"},"bytes"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"(clave)                                                              => (valor)\n0xdeba1e292f8ba88238e10ab3c7f88bd4be4fac56cad5194b6ecceaf653468af1 => 0x4d7920546f6b656e20322e30\n")),(0,r.kt)("p",null,"El uso de ",(0,r.kt)("strong",{parentName:"p"},"n\xfameros de ranura")," y ",(0,r.kt)("strong",{parentName:"p"},"bytes crudos")," hace que el almacenamiento de contratos sea muy dif\xedcil de manejar. ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/en/es/standards/universal-profile/lsp0-erc725account#erc725y---generic-key-value-store"},"ERC725Y")," resuelve parte del problema mediante una disposici\xf3n de almacenamiento m\xe1s flexible, en la que los datos se direccionan mediante claves ",(0,r.kt)("inlineCode",{parentName:"p"},"bytes32"),". Sin embargo, con lenguajes de tan bajo nivel, es dif\xedcil para los humanos entender los datos del almacenamiento."),(0,r.kt)("p",null,'El principal problema en torno al almacenamiento de contratos inteligentes tambi\xe9n surge cuando los datos se almacenan de forma diferente, dependiendo de los casos de uso individuales y de las necesidades de la aplicaci\xf3n. Ning\xfan esquema est\xe1ndar define "qu\xe9 representan los datos almacenados bajo una clave de datos espec\xedfica".'),(0,r.kt)("p",null,"Estos dos problemas hacen que sea muy dif\xedcil para los contratos inteligentes interactuar entre s\xed y para los servicios externos interactuar con el almacenamiento de los contratos."),(0,r.kt)("h2",{id:"qu\xe9-representa-este-est\xe1ndar"},"\xbfQu\xe9 representa este est\xe1ndar?"),(0,r.kt)("h3",{id:"especificaci\xf3n"},"Especificaci\xf3n"),(0,r.kt)("p",null,"El est\xe1ndar LSP2 pretende ofrecer una mejor abstracci\xf3n sobre el almacenamiento de un contrato inteligente."),(0,r.kt)("p",null,"Este est\xe1ndar introduce un esquema JSON que permite representar el almacenamiento de un contrato inteligente a trav\xe9s de claves de datos m\xe1s comprensibles. Hace que los datos almacenados en un contrato inteligente est\xe9n mejor organizados."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Universal Profile + ERC725Y JSON schema (diagram)",src:n(5046).Z,width:"1692",height:"590"})),(0,r.kt)("p",null,"Al introducir un esquema, podemos representar el almacenamiento de contratos de la misma forma en todos los contratos de la red. Todo el mundo tiene una visi\xf3n unificada de los datos almacenados entre los contratos inteligentes. Los desarrolladores pueden analizar r\xe1pidamente los datos, y los contratos o interfaces pueden leer o escribir datos desde o hacia el almacenamiento de contratos de la misma manera. La estandarizaci\xf3n hace que los contratos inteligentes sean ",(0,r.kt)("strong",{parentName:"p"},"m\xe1s interoperables entre s\xed"),"."),(0,r.kt)("h3",{id:"c\xf3mo-funciona-lsp2"},"\xbfC\xf3mo funciona LSP2?"),(0,r.kt)("p",null,"LSP2 introduce nuevas formas de cifrar datos, dependiendo de su tipo. Desde una \xfanica entrada hasta m\xfaltiples entradas (como arrays o mapas)."),(0,r.kt)("p",null,"Una clave de datos en el almacenamiento de contratos puede definirse como un objeto JSON con propiedades que describen la clave."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP4TokenName",\n  "key": "0xdeba1e292f8ba88238e10ab3c7f88bd4be4fac56cad5194b6ecceaf653468af1",\n  "keyType": "Singleton",\n  "valueType": "string",\n  "valueContent": "String"\n}\n')),(0,r.kt)("h2",{id:"tipos-de-clave-de-datos"},"Tipos de Clave de Datos"),(0,r.kt)("p",null,"Un tipo de clave de datos define ",(0,r.kt)("strong",{parentName:"p"},"C\xd3MO")," se construye una clave de datos de 32 bytes, representando c\xf3mo se describe un tipo de clave de datos particular en 32 bytes. Por ejemplo, las claves de datos ",(0,r.kt)("inlineCode",{parentName:"p"},"Singleton")," son simples hashes keccak256 de la cadena de nombre de la clave. Otros tipos de claves de datos se construyen a partir de trozos de hashes para agrupar diferentes partes del nombre de la clave o definir claves de elementos de array."),(0,r.kt)("p",null,"El Est\xe1ndar LSP2 define varios ",(0,r.kt)("strong",{parentName:"p"},"tipos de claves de datos"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#singleton"},"Singleton")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#array"},"Array")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#mapping"},"Mapping")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#mappingconagrupaci%C3%B3n"},"MappingWithGrouping"))),(0,r.kt)("h3",{id:"singleton"},"Singleton"),(0,r.kt)("p",null,"Una clave de datos ",(0,r.kt)("strong",{parentName:"p"},"Singleton")," es \xfatil para almacenar un \xfanico valor bajo una \xfanica clave de datos."),(0,r.kt)("p",null,"A continuaci\xf3n se muestra un ejemplo de una clave de datos ",(0,r.kt)("strong",{parentName:"p"},"Singleton"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP4TokenName",\n  "key": "0xdeba1e292f8ba88238e10ab3c7f88bd4be4fac56cad5194b6ecceaf653468af1",\n  "keyType": "Singleton",\n  "valueType": "string",\n  "valueContent": "String"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP2 Singleton key type",src:n(3046).Z,width:"1696",height:"589"})),(0,r.kt)("h3",{id:"array"},"Array"),(0,r.kt)("p",null,"Los desarrolladores pueden utilizar una clave de datos de tipo Array para almacenar un conjunto de elementos del mismo tipo de datos. Se accede a ellos mediante un ",(0,r.kt)("em",{parentName:"p"},"\xedndice")," que define su posici\xf3n dentro del mismo."),(0,r.kt)("p",null,"Los elementos del conjunto se ordenan sistem\xe1ticamente, en el orden en que se a\xf1aden o eliminan de \xe9l."),(0,r.kt)("p",null,"Las ",(0,r.kt)("strong",{parentName:"p"},"principales propiedades")," del tipo de clave de datos Array de LSP2 son:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"el orden importa")," :exclamaci\xf3n:"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"se permiten duplicados")," \u2705")),(0,r.kt)("p",null,"Un tipo de clave de datos Array puede ser \xfatil cuando existe la necesidad de almacenar un gran grupo de elementos de datos similares bajo la misma clave de datos. Por ejemplo, una lista de tokens o NFTs que ha recibido una direcci\xf3n. A continuaci\xf3n se muestra un ejemplo de una clave de datos Array:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP5ReceivedAssets[]",\n  "key": "0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b",\n  "keyType": "Array",\n  "valueType": "address",\n  "valueContent": "Address"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP2 Array key type (length check)",src:n(1449).Z,width:"1138",height:"878"})),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP2 Array key type (index access)",src:n(3815).Z,width:"1146",height:"872"})),(0,r.kt)("h3",{id:"mapping"},"Mapping"),(0,r.kt)("p",null,"El tipo de clave de datos Mapping es similar al concepto de tablas de consulta. Puede utilizarse para asignar datos que tienen un significado compartido (como elementos derivados de un antepasado com\xfan), y buscar o consultar elementos espec\xedficos de forma eficaz."),(0,r.kt)("p",null,"Las ",(0,r.kt)("strong",{parentName:"p"},"principales propiedades")," del tipo de clave de datos LSP2 Mapping son:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"el orden no importa")," \u2705"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"no se permiten duplicados")," \u274c")),(0,r.kt)("p",null,"Los datos a mapear pueden ser palabras que tengan un significado espec\xedfico para el protocolo o la implementaci\xf3n de la aplicaci\xf3n, o tipos de datos subyacentes (= ",(0,r.kt)("inlineCode",{parentName:"p"},"<mixed type>"),") como ",(0,r.kt)("inlineCode",{parentName:"p"},"address"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"bytesN"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"uintN"),", etc. Para ",(0,r.kt)("inlineCode",{parentName:"p"},"<mixed type>"),", todos los tipos de datos se rellenan a la izquierda. Si el tipo es superior a 20 bytes, la segunda parte de la clave se"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"corte a la izquierda para ",(0,r.kt)("inlineCode",{parentName:"li"},"uint<M>"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"int<M>")," y ",(0,r.kt)("inlineCode",{parentName:"li"},"bool"),"."),(0,r.kt)("li",{parentName:"ul"},"corte a la derecha para ",(0,r.kt)("inlineCode",{parentName:"li"},"bytes<M>")," y ",(0,r.kt)("inlineCode",{parentName:"li"},"address"),".")),(0,r.kt)("p",null,"A continuaci\xf3n se muestran algunos ejemplos del tipo de clave ",(0,r.kt)("strong",{parentName:"p"},"Mapping"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"mapping a ",(0,r.kt)("strong",{parentName:"li"},"palabras:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"SupportedStandards:LSP3UniversalProfile"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"SupportedStandards:LSP4DigitalAsset"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"SupportedStandards:LSP{N}{StandardName}"),", etc..."),(0,r.kt)("li",{parentName:"ul"},"mapping a ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"<tipo mixto>")),", como una ",(0,r.kt)("inlineCode",{parentName:"li"},"direcci\xf3n"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"LSP5ReceivedAssetsMap:<direcci\xf3n>"),"."),(0,r.kt)("li",{parentName:"ul"},"mapping a ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"<tipo mixto>")),", como un ",(0,r.kt)("inlineCode",{parentName:"li"},"bytes32"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"LSP8MetadataAddress:<bytes32>"))),(0,r.kt)("h4",{id:"ejemplo-1-asignaci\xf3n-como-primerapalabrasegundapalabra"},"Ejemplo 1: Asignaci\xf3n como ",(0,r.kt)("inlineCode",{parentName:"h4"},"primeraPalabra:segundaPalabra"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "SupportedStandards:LSP3UniversalProfile",\n  "key": "0xeafec4d89fa9619884b60000abe425d64acd861a49b8ddf5c0b6962110481f38",\n  "keyType": "Mapping",\n  "valueType": "bytes4",\n  "valueContent": "0xabe425d6"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP2 Mapping key type to word",src:n(150).Z,width:"1454",height:"687"})),(0,r.kt)("h4",{id:"ejemplo-2-mapping-como-primerapalabraaddress-mixed-type"},"Ejemplo 2: Mapping como ",(0,r.kt)("inlineCode",{parentName:"h4"},"primeraPalabra:<address>")," (",(0,r.kt)("inlineCode",{parentName:"h4"},"<mixed type>"),")"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"address")," valor = ",(0,r.kt)("inlineCode",{parentName:"p"},"0xcafecafecafecafecafecafecafecafecafecafe")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP5ReceivedAssetsMap:<address>",\n  "key": "0x812c4334633eb816c80d0000cafecafecafecafecafecafecafecafecafecafe",\n  "keyType": "Mapping",\n  "valueType": "(bytes4,bytes8)",\n  "valueContent": "(Bytes4,Number)"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP2 Mapping key type to address",src:n(4617).Z,width:"1520",height:"657"})),(0,r.kt)("h4",{id:"ejemplo-3-mapping-como-primerapalabrabytes32-mixed-type"},"Ejemplo 3: Mapping como ",(0,r.kt)("inlineCode",{parentName:"h4"},"primeraPalabra:<bytes32>")," (",(0,r.kt)("inlineCode",{parentName:"h4"},"<mixed type>"),")"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"bytes32")," valor = ",(0,r.kt)("inlineCode",{parentName:"p"},"0xaaaabbbbccccddddeeeeffff111122223333444455556666777788889999aaaa"),"."),(0,r.kt)("p",null,"El valor ",(0,r.kt)("inlineCode",{parentName:"p"},"bytes32")," se ",(0,r.kt)("strong",{parentName:"p"},"corta a la derecha"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP8MetadataAddress:<bytes32>",\n  "key": "0x73dcc7c3c4096cdc7f8a0000aaaabbbbccccddddeeeeffff1111222233334444",\n  "keyType": "Mapping",\n  "valueType": "Mixed",\n  "valueContent": "Mixed"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP2 Mapping key type to bytes32",src:n(9333).Z,width:"1706",height:"585"})),(0,r.kt)("h3",{id:"mappingwithgrouping"},"MappingWithGrouping"),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("inlineCode",{parentName:"p"},"<HashprimeraPalabra>:<HashsegundaPalabra>:<bytes2(0)>:<HashterceraPalabra>")),(0,r.kt)("p",{parentName:"admonition"},"Debes tener en cuenta que si eliges el mismo valor de hash para ",(0,r.kt)("inlineCode",{parentName:"p"},"primeraPalabra")," y ",(0,r.kt)("inlineCode",{parentName:"p"},"terceraPalabra")," hay un 0.0000000233% de posibilidades de que dos valores aleatorios para la ",(0,r.kt)("inlineCode",{parentName:"p"},"segundaPalabra")," den como resultado la misma clave de datos.")),(0,r.kt)("p",null,"Una clave de datos de tipo ",(0,r.kt)("strong",{parentName:"p"},"MappingWithGrouping")," es similar al tipo de clave de datos ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#mapping"},"Mapping")),", excepto que se pueden a\xf1adir subtipos a la clave de datos de mapeo principal."),(0,r.kt)("p",null,"Por ejemplo, puede utilizarse para diferenciar varios tipos de la clave de datos de asignaci\xf3n principal, como diferentes tipos de permisos (v\xe9ase ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/en/es/standards/universal-profile/lsp6-key-manager"},"LSP6 - Gestor de Claves"),")."),(0,r.kt)("p",null,"A continuaci\xf3n se muestra un ejemplo de una clave de datos MappingWithGrouping:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "name": "AddressPermissions:Permissions:<address>",\n    "key": "0x4b80742de2bf82acb3630000<address>",\n    "keyType": "MappingWithGrouping",\n    "valueType": "bytes32",\n    "valueContent": "BitArray"\n},\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"LSP2 mappingWithGrouping key type",src:n(188).Z,width:"1473",height:"678"})),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Ejemlpo de Solidity"),(0,r.kt)("p",null,"Siempre que quieras generar una clave de datos de ",(0,r.kt)("inlineCode",{parentName:"p"},"keyType")," ",(0,r.kt)("strong",{parentName:"p"},"MappingWithGrouping"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"bytes32 dataKey = bytes32(\n    bytes.concat(\n        bytes6(keccak256(bytes(firstWord))),\n        bytes4(keccak256(bytes(secondWord))),\n        bytes2(0),\n        bytes20(keccak256(bytes(thirdWord)))\n    )\n);\n"))))}c.isMDXComponent=!0},5046:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/ERC725Y-JSON-Schema-explained-97585069598e90d97162212e525af53a.jpeg"},3815:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/lsp2-key-type-array-index-access-765388acffe880fc7b84001cedb5a752.jpeg"},1449:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/lsp2-key-type-array-length-check-058b67bd15e48c4abf754b753efea8d1.jpeg"},4617:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/lsp2-key-type-mapping-to-address-4c30d50a80e87a03dae99e283e76ce12.jpeg"},9333:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/lsp2-key-type-mapping-to-bytes32-78000e0ea076e9633afde145600f8e9d.jpeg"},150:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/lsp2-key-type-mapping-to-word-6bbe8d8c0b1bf558171352778fd70f3f.jpeg"},188:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/lsp2-key-type-mapping-with-grouping-cdb4cdd5c304115612e10a198eb1dfeb.jpeg"},3046:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/lsp2-key-type-singleton-b9ade9c4f8fe47f4ff9985224c299b2d.jpeg"}}]);