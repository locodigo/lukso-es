"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[9658],{3905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>m});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=n.createContext({}),p=function(e){var a=n.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},d=function(e){var a=p(e.components);return n.createElement(i.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},u=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(t),m=r,v=u["".concat(i,".").concat(m)]||u[m]||c[m]||s;return t?n.createElement(v,o(o({ref:a},d),{},{components:t})):n.createElement(v,o({ref:a},d))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=t.length,o=new Array(s);o[0]=u;var l={};for(var i in a)hasOwnProperty.call(a,i)&&(l[i]=a[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<s;p++)o[p]=t[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},7191:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>i,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=t(7462),r=(t(7294),t(3905));const s={sidebar_label:"LSP9 - B\xf3vedas",sidebar_position:7},o="LSP9 - B\xf3vedas",l={unversionedId:"es/standards/universal-profile/lsp9-vault",id:"es/standards/universal-profile/lsp9-vault",title:"LSP9 - B\xf3vedas",description:"LSP9 - B\xf3vedas",source:"@site/docs/es/standards/universal-profile/lsp9-vault.md",sourceDirName:"es/standards/universal-profile",slug:"/es/standards/universal-profile/lsp9-vault",permalink:"/lukso-es/en/es/standards/universal-profile/lsp9-vault",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/es/standards/universal-profile/lsp9-vault.md",tags:[],version:"current",lastUpdatedAt:1681104877,formattedLastUpdatedAt:"Apr 10, 2023",sidebarPosition:7,frontMatter:{sidebar_label:"LSP9 - B\xf3vedas",sidebar_position:7},sidebar:"standardsSidebar",previous:{title:"LSP6 - Gestor de Claves",permalink:"/lukso-es/en/es/standards/universal-profile/lsp6-key-manager"},next:{title:"LSP10 - B\xf3vedas Recibidas",permalink:"/lukso-es/en/es/standards/universal-profile/lsp10-received-vaults"}},i={},p=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"\xbfQu\xe9 representa este est\xe1ndar?",id:"qu\xe9-representa-este-est\xe1ndar",level:2},{value:"ERC725X - Ejecutor gen\xe9rico",id:"erc725x---ejecutor-gen\xe9rico",level:3},{value:"ERC725Y - Almac\xe9n Gen\xe9rico de Datos Clave-Valor",id:"erc725y---almac\xe9n-gen\xe9rico-de-datos-clave-valor",level:3},{value:"LSP1 - ReceptorUniversal",id:"lsp1---receptoruniversal",level:3},{value:"LSP14 - Ownable2Step",id:"lsp14---ownable2step",level:3},{value:"Flujo",id:"flujo",level:3}],d={toc:p};function c(e){let{components:a,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,s,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lsp9---b\xf3vedas"},"LSP9 - B\xf3vedas"),(0,r.kt)("admonition",{title:"Documento Est\xe1ndard",type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-9-Vault.md"},"LSP9 - B\xf3vedas"))),(0,r.kt)("h2",{id:"introducci\xf3n"},"Introducci\xf3n"),(0,r.kt)("p",null,"El uso del Gestor de Claves con el Perfil Universal permitir\xe1 a terceros hacer operaciones a trav\xe9s de tu perfil otorg\xe1ndole permisos espec\xedficos, pero esto no eliminar\xe1 el riesgo de operar maliciosamente con tus datos y pertenencias."),(0,r.kt)("p",null,"Se debe restringir a terceros cuando hablen con un contrato inteligente espec\xedfico a trav\xe9s del Perfil Universal para evitar este riesgo cuando casi tiene las mismas funcionalidades y est\xe1 controlado por el Perfil Universal."),(0,r.kt)("h2",{id:"qu\xe9-representa-este-est\xe1ndar"},"\xbfQu\xe9 representa este est\xe1ndar?"),(0,r.kt)("p",null,"Este est\xe1ndar define una b\xf3veda que puede contener activos e interactuar con otros contratos. Puede ",(0,r.kt)("strong",{parentName:"p"},"adjuntar informaci\xf3n")," a trav\xe9s de ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725y"},"ERC725Y")," a s\xed misma, ",(0,r.kt)("strong",{parentName:"p"},"ejecutar, desplegar o transferir valor")," a cualquier otro contrato inteligente o EOA a trav\xe9s de ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725x"},"ERC725X"),". Puede ser ",(0,r.kt)("strong",{parentName:"p"},"notificado de los activos entrantes")," a trav\xe9s de la funci\xf3n de ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-1-UniversalReceiver.md"},"LSP1-ReceptorUniversal"),"."),(0,r.kt)("p",null,"Este est\xe1ndar utiliza el est\xe1ndar ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://eips.ethereum.org/EIPS/eip-173"},"ERC173"))," para proporcionar funciones de propiedad para poseer y controlar el contrato de implementaci\xf3n."),(0,r.kt)("h3",{id:"erc725x---ejecutor-gen\xe9rico"},"ERC725X - Ejecutor gen\xe9rico"),(0,r.kt)("p",null,"Este subest\xe1ndar permite a la b\xf3veda ejecutar una llamada en cualquier otro contrato inteligente, transferir el token nativo de la blockchain o desplegar un nuevo contrato inteligente. S\xf3lo el propietario puede realizar estas operaciones a continuaci\xf3n."),(0,r.kt)("p",null,"DEBE existir el siguiente ",(0,r.kt)("inlineCode",{parentName:"p"},"operationType"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0")," para `CALL"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"1")," para `CREATE"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"2"),' para "CREAR2'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"3"),' para "STATICCALL')),(0,r.kt)("p",null,"Podr\xeda existir el siguiente ",(0,r.kt)("inlineCode",{parentName:"p"},"operationType"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"4")," para ",(0,r.kt)("inlineCode",{parentName:"li"},"DELEGATECALL")," - ",(0,r.kt)("strong",{parentName:"li"},"NOTA")," Se trata de una operaci\xf3n potencialmente peligrosa")),(0,r.kt)("h3",{id:"erc725y---almac\xe9n-gen\xe9rico-de-datos-clave-valor"},"ERC725Y - Almac\xe9n Gen\xe9rico de Datos Clave-Valor"),(0,r.kt)("p",null,"Este subest\xe1ndar permite a la b\xf3veda contener datos arbitrarios a trav\xe9s de un almac\xe9n gen\xe9rico de clave/valor de datos. Da flexibilidad al almacenamiento de contratos al permitir adjuntar cualquier informaci\xf3n al contrato y actualizarla f\xe1cilmente."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Las claves y los valores de los datos se construyen de acuerdo con el est\xe1ndar ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/lukso-es/en/es/standards/generic-standards/lsp2-json-schema"},"LSP2-EsquemaJSONERC725Y")),".")),(0,r.kt)("h3",{id:"lsp1---receptoruniversal"},"LSP1 - ReceptorUniversal"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Consulta el est\xe1ndar ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/lukso-es/en/es/standards/generic-standards/lsp1-universal-receiver"},"LSP1-ReceptorUniversal"))," para obtener m\xe1s informaci\xf3n.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"La implementaci\xf3n del ",(0,r.kt)("strong",{parentName:"p"},"ReceptorDelegadoUniversal")," utilizada por el Perfil Universal es diferente de la utilizada por la b\xf3veda. Consulta ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/en/es/standards/smart-contracts/lsp1-universal-receiver-delegate-vault"},"LSP1ReceptorDelegadoUniversalB\xf3veda"))),(0,r.kt)("p",null,"Este est\xe1ndar permite notificar a la b\xf3veda las transacciones entrantes, como transferencias de tokens, transferencias de informaci\xf3n, etc. Las notificaciones son \xfatiles cuando los usuarios desean personalizar la forma en que su contrato se comporta ante determinados tokens, ya sea rechaz\xe1ndolos u operando una llamada espec\xedfica para cada token recibido."),(0,r.kt)("p",null,"El ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"#"},"LSP9 B\xf3veda"))," implementa la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"universalReceiver(..)")," que:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Emite un evento con el typeId y los datos que se le han pasado, as\xed como par\xe1metros adicionales como la cantidad enviada a la funci\xf3n, el llamante de la funci\xf3n y el valor de retorno de los contratos delegados.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Reenv\xeda la llamada a la direcci\xf3n del contrato ",(0,r.kt)("strong",{parentName:"p"},"ReceptorDelegadoUniversal")," almacenada en la clave de datos adjunta a continuaci\xf3n, si admite ",(0,r.kt)("a",{parentName:"p",href:"/lukso-es/en/es/standards/smart-contracts/interface-ids"},"LSP1InterfazIddeUniversalReceptorDelegado"),"."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP1UniversalReceiverDelegate",\n  "key": "0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47",\n  "keyType": "Singleton",\n  "valueType": "address",\n  "valueContent": "Address"\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Reenv\xeda la llamada a la direcci\xf3n del contrato ",(0,r.kt)("strong",{parentName:"li"},"typeId delegate")," almacenada en la clave de datos adjunta a continuaci\xf3n, si admite ",(0,r.kt)("a",{parentName:"li",href:"/lukso-es/en/es/standards/smart-contracts/interface-ids"},"LSP1InterfazIddeUniversalReceptorDelegado"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "LSP1UniversalReceiverDelegate:<bytes32>",\n  "key": "0x0cfc51aec37c55a4d0b10000<bytes32>",\n  "keyType": "Mapping",\n  "valueType": "address",\n  "valueContent": "Address"\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"<bytes32",">"," es el ",(0,r.kt)("inlineCode",{parentName:"p"},"typeId")," pasado a la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"universalReceiver(..)"),".")),(0,r.kt)("h3",{id:"lsp14---ownable2step"},"LSP14 - Ownable2Step"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Consulta el est\xe1ndar ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/lukso-es/en/es/standards/generic-standards/lsp14-ownable-2-step"},"LSP14 - Propiedad 2-Pasos"))," para obtener m\xe1s informaci\xf3n.")),(0,r.kt)("p",null,"Este est\xe1ndar permite que la propiedad del contrato ",(0,r.kt)("strong",{parentName:"p"},"B\xf3veda LSP9")," sea controlada por una EOA o por otro contrato, implementando ",(0,r.kt)("strong",{parentName:"p"},"3 m\xe9todos esenciales"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/lukso-es/en/es/standards/smart-contracts/lsp14-ownable-2-step#transferownership"},(0,r.kt)("inlineCode",{parentName:"a"},"transferOwnership()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/lukso-es/en/es/standards/smart-contracts/lsp14-ownable-2-step#acceptownership"},(0,r.kt)("inlineCode",{parentName:"a"},"acceptOwnership()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/lukso-es/en/es/standards/smart-contracts/lsp14-ownable-2-step#renounceownership"},(0,r.kt)("inlineCode",{parentName:"a"},"renounceOwnership()")))),(0,r.kt)("h3",{id:"flujo"},"Flujo"),(0,r.kt)("p",null,"Los desarrolladores podr\xedan utilizar la b\xf3veda para guardar activos y, como se ha mencionado antes, podr\xeda utilizarse para restringir a terceros que s\xf3lo operen sobre los activos y metadatos de la b\xf3veda y no sobre el Perfil Universal. Los metadatos y activos del Perfil Universal est\xe1n a salvo si el tercero intenta actuar maliciosamente."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"1.")," El ",(0,r.kt)("strong",{parentName:"p"},"protocolo")," s\xf3lo deber\xeda poder hablar con la b\xf3veda A1 a trav\xe9s de ",(0,r.kt)("a",{parentName:"p",href:"./lsp6-key-manager#address-permissions"},"AllowedAddresses permission"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"B\xf3veda LSP9 permitida en el perfil",src:t(2780).Z,width:"2883",height:"1387"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"2.")," Todas las ",(0,r.kt)("strong",{parentName:"p"},"transacciones de protocolo")," deben enrutarse a trav\xe9s de la b\xf3veda. De lo contrario, la transacci\xf3n se ",(0,r.kt)("strong",{parentName:"p"},"revertir\xe1"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"B\xf3veda LSP9 con flujo de terceros",src:t(984).Z,width:"2977",height:"1343"})))}c.isMDXComponent=!0},984:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/lsp9-vault-flow-5234da23d42ade83a1b14dabe4c1f5cf.jpeg"},2780:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/vault-flow-881a05118ac0d4e489e8302f24cd1b02.jpeg"}}]);